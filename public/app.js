webpackJsonp([0],[function(t,e,n){"use strict";(function(t){function r(t,e){var n=t.size;if(n!==e.size)return!1;for(var r=t.values(),o=r.next();!o.done;o=r.next())if(!e.has(o.value))return!1;return!0}function o(t,e){var n=new Set;return t.forEach(function(t){e.has(t)&&n.add(t)}),n}function a(t,e){var n=t.indexOf(e);n<0||(t[n]=B.last(t),t.pop())}function i(t){for(var e=t.toString(),n=e.length%3,r=n>0?[e.slice(0,n)]:[],o=e.length%3;o<e.length;o+=3)r.push(e.substr(o,3));return r.join("'")}function s(t,e){return S.point(+t.x.toFixed(e),+t.y.toFixed(e))}function l(t,e){return void 0===e&&(e=10),t.toString(e).split(".")[1]||"0"}function u(t){var e=Math.random().toString(36).slice(2);return t&&t(e)?u(t):e}function c(t,e){var n=t.getContainer().getBoundingClientRect(),r=S.point(e.clientX-n.left,e.clientY-n.top);return t.containerPointToLatLng(r)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?t.apply(void 0,e):void 0}function d(t){function e(){removeEventListener("keydown",n),removeEventListener("backbutton",r)}var n=function(n){27===n.keyCode&&(e(),t(n))},r=function(n){e(),t(n)};addEventListener("keydown",n),addEventListener("backbutton",r)}function p(){for(var t=document.querySelectorAll(V),e=0,n=t;e<n.length;e++){var r=n[e];r.style.opacity=null,"t"!==r.id[1]&&(r.style.filter=null)}}function h(t,e){var n=document.createEvent("MouseEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function m(t){var e=t.name,n=t.altNames,r=M(),o=[e];return r&&n[r]&&o.push(n[r]),n.en&&o.push(n.en),o}function g(t){var e=t.map(m);return[0,1,2].map(function(n){return t.map(function(t,r){return e[r][n]})}).map(function(t){return B.uniq(t).reduce(function(t,e){return t+" / "+e})}).filter(function(t){return void 0!==t})}function y(t,e){var n=e.map(function(e){return t.distanceTo(e)}),r=e[1].subtract(e[0]).multiplyBy(n[0]/(n[0]+n[1])).add(e[0]),o=t.subtract(r);return e.map(function(t){return s(t.add(o),2)})}function v(t){var e=t.style,n=e.transform;n&&(e.transform=n.replace(/translate3d\s*\((.+?,\s*.+?),\s*.+?\s*\)/i,"translate($1)"))}function b(t,e){var n=0;setInterval(function(){return document.title=t[++n%t.length]},e)}function w(t,e,n){var r=t.getBoundingClientRect();if(!n){var o=document.documentElement;n=S.point(o.clientWidth/2,o.clientHeight/2)}var a=S.point(n.x-r.left,n.y-r.top),i=S.point(a.x/r.width,a.y/r.height),s=t.style;s.transformOrigin=100*i.x+"% "+100*i.y+"%",s.transform="scale("+e+")"}function x(t,n,r,o){return void 0===r&&(r=100),void 0===o&&(o=100),C(this,void 0,void 0,function(){var a,i;return L(this,function(s){switch(s.label){case 0:a=0,s.label=1;case 1:return a<o?(i=t(),!n||n(i)?[2,i]:[4,e.delay(r)]):[3,4];case 2:s.sent(),s.label=3;case 3:return++a,[3,1];case 4:throw new Error("rejected")}})})}function A(t,e,n){void 0===e&&(e=100),void 0===n&&(n=100);var r=t.slice(1),o="#"===t[0]?function(){return document.getElementById(r)}:function(){return document.querySelector(t)};return x(o,function(t){return null!==t},e,n)}function k(t){for(var e;e=t.firstChild;)t.removeChild(e)}function j(t){void 0===t&&(t=document);var e=t.querySelectorAll('[style*="translate3d"]');console.log("fixing font",t,e);for(var n=0,r=e;n<r.length;n++){var o=r[n];v(o)}}function M(){var t=location.search.match(/city=(\w+)/),e=t?t[1]:"spb",n={spb:"fi",qazan:"tt",helsinki:"se"};return n[e]}function _(t,e){var n=t.get(e);if(void 0===n)throw console.error("in map",t,":",e,"->",n),new Error("key or val is undefined");return n}function E(t){var e=document.getElementById(t);if(!e)throw new Error("no element with id="+t+" exists");return e}var C=this&&this.__awaiter||function(e,n,r,o){return new(r||(r=t))(function(t,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(i,s)}l((o=o.apply(e,n||[])).next())})},L=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},S=n(1),B=n(3),T=n(42);e.algorithm=T;var O=n(44);e.decorators=O;var z=n(10);e.geo=z;var F=n(11);e.math=F;var I=n(41);e.Mediator=I.default;var P=n(46);e.sfx=P;var N=n(12);e.svg=N;var R=n(45);e.file=R;var G=n(43);e.color=G;var V=["paths-inner","paths-outer","transfers-inner","transfers-outer","station-circles"].map(function(t){return"#"+t+" > *"}).join(", ");e.setsEqual=r,e.intersection=o,e.deleteFromArray=a,e.formatInteger=i,e.roundPoint=s,e.getFraction=l,e.generateId=u,e.mouseToLatLng=c,e.callMeMaybe=f,e.once=function(e,n){return new t(function(t){e.addEventListener(n,function r(o){e.removeEventListener(n,r),t(o)})})},e.onceEscapePress=d,e.transitionEnd=function(t){return e.once(t,"transitionend")},e.resetStyle=p,e.triggerMouseEvent=h,e.getPlatformNames=m,e.getPlatformNamesZipped=g,e.midPointsToEnds=y,e.trim3d=v,e.flashTitle=b,e.scaleOverlay=w,e.delay=function(e){return new t(function(t,n){return setTimeout(t,e)})},e.tryGet=x,e.tryGetElement=A,e.removeAllChildren=k,e.fixFontRendering=j,e.getSecondLanguage=M,e.tryGetFromMap=_,e.byId=E}).call(e,n(2))},,function(t,e,n){(function(e,r,o){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function a(t){X=t}function i(t){Z=t}function s(){return function(){return e.nextTick(d)}}function l(){return"undefined"!=typeof Y?function(){Y(d)}:f()}function u(){var t=0,e=new $(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=d,function(){return t.port2.postMessage(0)}}function f(){var t=setTimeout;return function(){return t(d,1)}}function d(){for(var t=0;t<K;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}K=0}function p(){try{var t=n(66);return Y=t.runOnLoop||t.runOnContext,l()}catch(t){return f()}}function h(t,e){var n=arguments,r=this,o=new this.constructor(g);void 0===o[ot]&&F(o);var a=r._state;return a?!function(){var t=n[a-1];Z(function(){return T(a,o,t,r._result)})}():C(r,o,t,e),o}function m(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(g);return j(n,t),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(t){return lt.error=t,lt}}function w(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function x(t,e,n){Z(function(t){var r=!1,o=w(n,e,function(n){r||(r=!0,e!==n?j(t,n):_(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function A(t,e){e._state===it?_(t,e._result):e._state===st?E(t,e._result):C(e,void 0,function(e){return j(t,e)},function(e){return E(t,e)})}function k(t,e,n){e.constructor===t.constructor&&n===h&&e.constructor.resolve===m?A(t,e):n===lt?E(t,lt.error):void 0===n?_(t,e):r(n)?x(t,e,n):_(t,e)}function j(e,n){e===n?E(e,y()):t(n)?k(e,n,b(n)):_(e,n)}function M(t){t._onerror&&t._onerror(t._result),L(t)}function _(t,e){t._state===at&&(t._result=e,t._state=it,0!==t._subscribers.length&&Z(L,t))}function E(t,e){t._state===at&&(t._state=st,t._result=e,Z(M,t))}function C(t,e,n,r){var o=t._subscribers,a=o.length;t._onerror=null,o[a]=e,o[a+it]=n,o[a+st]=r,0===a&&t._state&&Z(L,t)}function L(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,a=t._result,i=0;i<e.length;i+=3)r=e[i],o=e[i+n],r?T(n,r,o,a):o(a);t._subscribers.length=0}}function S(){this.error=null}function B(t,e){try{return t(e)}catch(t){return ut.error=t,ut}}function T(t,e,n,o){var a=r(n),i=void 0,s=void 0,l=void 0,u=void 0;if(a){if(i=B(n,o),i===ut?(u=!0,s=i.error,i=null):l=!0,e===i)return void E(e,v())}else i=o,l=!0;e._state!==at||(a&&l?j(e,i):u?E(e,s):t===it?_(e,i):t===st&&E(e,i))}function O(t,e){try{e(function(e){j(t,e)},function(e){E(t,e)})}catch(e){E(t,e)}}function z(){return ct++}function F(t){t[ot]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function I(t,e){this._instanceConstructor=t,this.promise=new t(g),this.promise[ot]||F(this.promise),W(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&_(this.promise,this._result))):E(this.promise,P())}function P(){return new Error("Array Methods must be provided an Array")}function N(t){return new I(this,t).promise}function R(t){var e=this;return new e(W(t)?function(n,r){for(var o=t.length,a=0;a<o;a++)e.resolve(t[a]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function G(t){var e=this,n=new e(g);return E(n,t),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this[ot]=z(),this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&V(),this instanceof D?O(this,t):U())}function q(){var t=void 0;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D}var Q=void 0;Q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var W=Q,K=0,Y=void 0,X=void 0,Z=function(t,e){nt[K]=t,nt[K+1]=e,K+=2,2===K&&(X?X(d):rt())},H="undefined"!=typeof window?window:void 0,J=H||{},$=J.MutationObserver||J.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),rt=void 0;rt=tt?s():$?u():et?c():void 0===H?p():f();var ot=Math.random().toString(36).substring(16),at=void 0,it=1,st=2,lt=new S,ut=new S,ct=0;return I.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===at&&n<t;n++)this._eachEntry(e[n],n)},I.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===m){var o=b(t);if(o===h&&t._state!==at)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===D){var a=new n(g);k(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},I.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===at&&(this._remaining--,t===st?E(r,n):this._result[e]=n),0===this._remaining&&_(r,this._result)},I.prototype._willSettleAt=function(t,e){var n=this;C(t,void 0,function(t){return n._settledAt(it,e,t)},function(t){return n._settledAt(st,e,t)})},D.all=N,D.race=R,D.resolve=m,D.reject=G,D._setScheduler=a,D._setAsap=i,D._asap=Z,D.prototype={constructor:D,then:h,catch:function(t){return this.then(null,t)}},D.polyfill=q,D.Promise=D,D})}).call(e,n(57),n(2),n(13))},,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(t,e){function n(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(l(r.parts[a],e))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(l(r.parts[a],e));d[r.id]={id:r.id,refs:1,parts:i}}}}function r(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],a=o[0],i=o[1],s=o[2],l=o[3],u={css:i,media:s,sourceMap:l};n[a]?n[a].parts.push(u):e.push(n[a]={id:a,parts:[u]})}return e}function o(t,e){var n=m(),r=v[v.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),v.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=v.indexOf(t);e>=0&&v.splice(e,1)}function i(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function l(t,e){var n,r,o;if(e.singleton){var l=y++;n=g||(g=i(e)),r=u.bind(null,n,l,!1),o=u.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=f.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(e),r=c.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function u(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function c(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var d={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0,v=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var o=r(t);return n(o,e),function(t){for(var a=[],i=0;i<o.length;i++){var s=o[i],l=d[s.id];l.refs--,a.push(l)}if(t){var u=r(t);n(u,e)}for(var i=0;i<a.length;i++){var l=a[i];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";(function(t){function r(t){return l(this,void 0,void 0,function(){var n,r,o,a,i,s;return u(this,function(l){switch(l.label){case 0:return[4,c.getJSON(t)];case 1:for(n=l.sent(),r=Object.keys(n),o=0,a=r;o<a.length;o++)i=a[o],s=n[i],f.set(i.toLowerCase(),e.userLanguage in s?s[e.userLanguage]:i);return d=new RegExp(r.join("|"),"ig"),[2]}})})}function o(t){var e=f.get(t.toLowerCase());return void 0===e?t:t.toUpperCase()===t?e.toUpperCase():e}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.map(function(t){return t.replace(d,o)}).map(function(t,n){return t+(e[n]||"")}).join("")}function i(t,n){return 0===t?"":""+t+(t>1&&"en"===e.userLanguage?n+"s":n)}function s(t){if(void 0===t)return"";if(t<60)return Math.round(t)+" seconds";if(t<3570){var e=Math.round(t/60);return i(e,"min")}var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60);return(n>0?n+(o=["%hour%"],o.raw=["%hour%"],a(o)):"")+" "+i(r,"min");var o}var l=this&&this.__awaiter||function(e,n,r,o){return new(r||(r=t))(function(t,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(i,s)}l((o=o.apply(e,n||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},c=n(7);e.userLanguage=navigator.language.slice(0,2).toLowerCase();var f=new Map,d=new RegExp(Object.keys(f).join("|"),"ig");e.updateDictionary=r,e.translate=o,e.tr=a,e.formatTime=s}).call(e,n(2))},function(t,e,n){"use strict";(function(t,r){function o(){for(var t="",e=0,n=document.styleSheets;e<n.length;e++){var r=n[e];console.log(r.cssText);var o=r.cssRules;if(o)for(var a=0,i=o;a<i.length;a++){var s=i[a];t+=s.cssText}else console.log(r)}return console.log("css text ready"),t}function a(){return i(this,void 0,void 0,function(){var t,e,n,r,o,a,i;return s(this,function(s){switch(s.label){case 0:return t=document.getElementById("scheme"),[4,l.tryGet(function(){return t.sheet},function(t){return null!==t})];case 1:for(e=s.sent(),n=new Map,r=0,o=e.cssRules;r<o.length;r++)a=o[r],a instanceof CSSStyleRule&&(i=a.selectorText.match(/^.(M\d+|L|E)$/),i&&i[1]?n.set(i[1],a.style):"#paths-outer > .L"===a.selectorText&&n.set("light-rail-path",a.style));return console.log(n),[2,n]}})})}var i=this&&this.__awaiter||function(e,n,r,o){return new(r||(r=t))(function(t,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(i,s)}l((o=o.apply(e,n||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},l=n(0);e.getJSON=function(t){return r(t).then(function(t){return t.json()})},e.getContent=function(t){return r(t).then(function(t){return t.text()})},e.getConfig=function(){return r("res/mapconfig.json").then(function(t){return t.json()})},e.getStyleRulesAsText=o,e.getLineRules=a}).call(e,n(2),n(20))},,function(t,e,n){"use strict";var r=function(){function t(t,e){if(t===e)throw new Error("source is the same as target: "+t);this._source=t,this._target=e}return Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),t.prototype.isOf=function(t,e){return this._source===t&&this._target===e||this._source===e&&this._target===t},t.prototype.has=function(t){return this._source===t||this._target===t},t.prototype.other=function(t){if(this._source===t)return this._target;if(this._target===t)return this._source;throw new Error("span does not have vertex")},t.prototype.isAdjacent=function(t){return this.has(t._source)||this.has(t._target)},t.prototype.invert=function(){t=[this._target,this._source],this._source=t[0],this._target=t[1];var t},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t,e){var n=e.length;if(n<1)throw new Error("an objects array must contain at least 1 object");for(var r=e[0],o=t.distanceTo(r.location||r),a=1;a<n;++a){var i=e[a],s=t.distanceTo(i.location||i);s<o&&(r=i,o=s)}return r}function o(t,e,n,r){void 0===r&&(r=!1);var o=e.map(function(e){return{item:e,distance:t.distanceTo(e.location)}}).filter(function(t){return t.distance<=n});return(r?o.sort(function(t,e){return t.distance-e.distance}):o).map(function(t){return t.item})}function a(t){for(var e=0,n=0,r=0,o=t;r<o.length;r++){var a=o[r],i=a.lat,l=a.lng;e+=i,n+=l}return s.latLng(e/t.length,n/t.length)}function i(t,e,n,r){void 0===n&&(n=1e-5);var o=a(t),i=e(o);l.callMeMaybe(r,o);for(var u=10;u>n;u*=.61803398875)for(var c=u,f=-c;f<=c;f+=u)for(var d=-c;d<=c;d+=u){var p=s.latLng(o.lat+f,o.lng+d),h=e(p);h<i&&(o=p,i=h,l.callMeMaybe(r,o))}return o}var s=n(1),l=n(0);e.findClosestObject=r,e.findObjectsWithinRadius=o,e.getCenter=a,e.calculateGeoMean=i},function(t,e,n){"use strict";function r(t,e){return t.x*e.x+t.y*e.y}function o(t,e){return r(t,e)/t.distanceTo(e)}function a(t){return t.reduce(function(t,e){return t.add(e)}).divideBy(t.length)}function i(t){if(3!==t.length)throw new Error("must have 3 vertices");var e=t[0],n=t[1].subtract(e),o=t[2].subtract(e),a=r(n,n),i=r(o,o);return c.point(o.y*a-n.y*i,n.x*i-o.x*a).divideBy(2*(n.x*o.y-n.y*o.x)).add(e)}function s(t,e,n){return c.point(t.x+e*Math.cos(n),t.y+e*Math.sin(n))}function l(t){var e=Math.abs(t.x),n=Math.abs(t.y);return t.divideBy(e<n?n:e)}function u(t,e,n){var r=e*e/n;return r<t?e/n*2+(t-r)/e:2*Math.sqrt(t/n)}var c=n(1);e.dot=r,e.angle=o,e.getCenter=a,e.getCircumcenter=i,e.polarToCartesian=s,e.vectorToGradCoordinates=l,e.timeToTravel=u},function(t,e,n){"use strict";function r(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function o(t,e){var n=r("circle");return n.setAttribute("r",e.toString()),n.setAttribute("cy",t.y.toString()),n.setAttribute("cx",t.x.toString()),n}function a(t,e){var n=r("line");return n.setAttribute("x1",t.x.toString()),n.setAttribute("y1",t.y.toString()),n.setAttribute("x2",e.x.toString()),n.setAttribute("y2",e.y.toString()),n}function i(t,e,n){var o=r("path");return c(o,t,e,n),o}function s(t){var e=[],n=/\D([\d\.]+).*?,.*?([\d\.]+)/g,r=t.getAttribute("d");if(r){for(var o;null!==(o=n.exec(r));)e.push(g.point(Number(o[1]),Number(o[2])));return e}}function l(t,e){if(4!==e.length)throw new Error("there should be 4 points");var n=["M"].concat(e.map(function(t){return t.x+","+t.y}));n.splice(2,0,"C"),t.setAttribute("d",n.join(" "))}function u(t){var e=[],n=/\D([\d\.]+)/g,r=t.getAttribute("d");if(r){for(var o;null!==(o=n.exec(r));)e.push(Number(o[1]));return e}}function c(t,e,n,r){var o=y.getCircumcenter([e,n,r]),a=Math.atan2(e.y-o.y,e.x-o.x),i=Math.atan2(n.y-o.y,n.x-o.x),s=i-a,l=s<=Math.PI||s>-Math.PI?0:1,u=e.subtract(o),c=n.subtract(o),f=u.x*c.y-c.x*u.y<0?0:1,d=y.dot(r.subtract(e),r.subtract(n));d<0&&(f=1-f,l=1-l);var p=o.distanceTo(e),h=["M",e.x,e.y,"A",p,p,0,l,f,n.x,n.y].join(" ");t.setAttribute("d",h)}function f(t){var e=r("path");return l(e,t),e}function d(t,e){var n=o(t,e),r=n.cloneNode(!0);return[n,r]}function p(t,e,n){var r=i(t,e,n),o=r.cloneNode(!0);return[r,o]}function h(t,e){var n=e.clone();return t.x===e.x?n.x+=.01:t.y===e.y&&(n.y+=.01),[a(t,n),a(t,n)]}function m(t){var e=g.point(+t.getAttribute("cx"),+t.getAttribute("cy")),n=~~t.getAttribute("r"),r=g.point(0+n,4+n);return e.subtract(r)}var g=n(1),y=n(11);e.createSVGElement=r,e.makeCircle=o,e.makeLine=a,e.makeArc=i,e.getBezierPathPoints=s,e.setBezierPath=l,e.getCircularPath=u,e.setCircularPath=c,e.makeCubicBezier=f,e.makeTransferRing=d,e.makeTransferArc=p,e.makeTransferLine=h,e.circleOffset=m;var v;!function(t){function e(){var t=r("filter");return t.id="shadow",t.setAttribute("width","200%"),t.setAttribute("height","200%"),t.innerHTML='\n            <feOffset result="offOut" in="SourceAlpha" dx="0" dy="4" />\n            <feColorMatrix result="matrixOut" in="offOut" type="matrix" values=\n                "0 0 0 0   0\n                0 0 0 0   0\n                0 0 0 0   0\n                0 0 0 0.5 0"/>\n            <feGaussianBlur result="blurOut" in="matrixOut" stdDeviation="2" />\n\n            <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n        ',t}function n(){var t=r("filter");return t.id="black-glow",t.innerHTML='<feColorMatrix type="matrix" values=\n                "0 0 0 0   0\n                0 0 0 0   0\n                0 0 0 0   0\n                0 0 0 0.3 0"/>\n            <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>\n            <feMerge>\n                <feMergeNode in="coloredBlur"/>\n                <feMergeNode in="SourceGraphic"/>\n            </feMerge>',t}function o(){var t=r("filter");return t.id="opacity",t.innerHTML='<feComponentTransfer>\n            <feFuncA type="table" tableValues="0 0.5">\n        </feComponentTransfer>',t}function a(){var t=r("filter");return t.id="gray",t.innerHTML='<feColorMatrix type="matrix"\n               values="0.2126 0.7152 0.0722 0 0\n                       0.2126 0.7152 0.0722 0 0\n                       0.2126 0.7152 0.0722 0 0\n                       0 0 0 1 0"/>',t}function i(t){t.appendChild(e()),t.appendChild(n()),t.appendChild(o()),t.appendChild(a())}function s(t){var e=t.getBoundingClientRect(),n=getComputedStyle(t),r=2*parseFloat(n.strokeWidth||t.style.strokeWidth||"0");e.height>=r&&e.width>=r&&(t.style.filter="url(#black-glow)")}t.makeDrop=e,t.makeGlow=n,t.makeOpacity=o,t.makeGray=a,t.appendAll=i,t.applyDrop=s}(v=e.Filters||(e.Filters={}));var b;!function(t){function e(t){var e=r("linearGradient");if("innerHTML"in e)return e.innerHTML='<stop style="stop-color:'+t[0]+'" /><stop style="stop-color:'+t[1]+'" />',e;var n=r("stop");n.style.stopColor=t[0];var o=r("stop");return o.style.stopColor=t[1],e.appendChild(n),e.appendChild(o),e}function n(t,n,r){void 0===r&&(r=0);var i=e(n);return a(i,r),o(i,t),i}function o(t,e){var n="rotate("+180*Math.atan2(e.y,e.x)/Math.PI+", 0.5, 0.5)";t.setAttribute("gradientTransform",n)}function a(t,e){t.firstChild.setAttribute("offset",e.toString()),t.lastChild.setAttribute("offset",(1-e).toString())}t.makeUndirectedLinear=e,t.makeLinear=n,t.setDirection=o,t.setOffset=a}(b=e.Gradients||(e.Gradients={}))},,,,function(t,e,n){"use strict";var r=n(14),o={platformBindings:new WeakMap,dummyBindings:new r.WeakBiMap,outerEdgeBindings:new r.WeakBiMap,innerEdgeBindings:new r.WeakBiMap,gradientBindings:new WeakMap};Object.defineProperty(e,"__esModule",{value:!0}),e.default=Object.freeze(o)},function(t,e,n){"use strict";var r=n(1),o=n(0),a=n(26);e.Platform=a.default;var i=n(28);e.Station=i.default;var s=n(9);e.Edge=s.default;var l=n(27);e.Span=l.default;var u=n(29);e.Transfer=u.default;var c=function(){function t(t){var e=this,n=function(t){return r.latLng(t.lat,t.lng)};this.platforms=t.platforms.map(function(t){return new a.default(t.name,n(t.location),t.altNames)}),this.stations=[],this.routes=t.routes,this.lines=t.lines,this.transfers=t.transfers.map(function(t){return new u.default(e.platforms[t.source],e.platforms[t.target])});var o=function(t){return t.routes.map(function(t){return e.routes[t]})};this.spans=t.spans.map(function(t){return new l.default(e.platforms[t.source],e.platforms[t.target],o(t))}),console.time("restore");for(var s=new Set(this.transfers),c=new Set(this.platforms);s.size>0;){var f=s.values().next().value,d=(new Set).add(f.source).add(f.target);s.delete(f);for(var p=d.values(),h=p.next().value;void 0!==h;h=p.next().value){for(var m=new Set,g=s.values(),y=g.next().value;void 0!==y;y=g.next().value)y.source===h?(d.add(y.target),m.add(y)):y.target===h&&(d.add(y.source),m.add(y));m.forEach(function(t){return s.delete(t)}),c.delete(h)}var v=new i.default(Array.from(d));this.stations.push(v)}c.forEach(function(t){return e.stations.push(new i.default([t]))}),console.timeEnd("restore")}return t.prototype.toJSON=function(){var t=this;return JSON.stringify({platforms:this.platforms.map(function(t){return{name:t.name,altNames:t.altNames,location:t.location}}),transfers:this.transfers.map(function(e){return{source:t.platforms.indexOf(e.source),target:t.platforms.indexOf(e.target)}}),lines:this.lines,spans:this.spans.map(function(e){return{source:t.platforms.indexOf(e.source),target:t.platforms.indexOf(e.target),routes:e.routes.map(function(e){return t.routes.indexOf(e)})}}),routes:this.routes},function(t,e){return t.startsWith("_")?void 0:e})},t.prototype.deletePlatform=function(t){console.log("removing platform",t);for(var e=0,n=t.transfers;e<n.length;e++){var r=n[e];o.deleteFromArray(this.transfers,r)}if(t.transfers.length=0,1===t.spans.length){var a=t.spans[0],i=a.other(t);o.deleteFromArray(i.spans,a),o.deleteFromArray(this.spans,a)}else if(2===t.spans.length){var s=t.spans,l=s[0],u=s[1],c=u.other(t);if(!c)throw new Error("span does not have other end");if(2===t.passingRoutes().size){var f=l.other(t);o.deleteFromArray(f.spans,l),o.deleteFromArray(this.spans,l)}else l.source===t?l.source=c:l.target=c;o.deleteFromArray(c.spans,u),o.deleteFromArray(this.spans,u)}else for(var d=0,p=t.spans;d<p.length;d++){var a=p[d],i=a.other(t);o.deleteFromArray(i.spans,a),o.deleteFromArray(this.spans,a)}var h=t.station;1===h.platforms.length?o.deleteFromArray(this.stations,h):o.deleteFromArray(h.platforms,t),o.deleteFromArray(this.platforms,t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var r=n(33);e.RedCircle=r.default,e.start=L.icon({iconUrl:"https://proxy-antonv.rhcloud.com/?url=http://map.project-osrm.org/images/marker-start-icon-2x.png",iconSize:[20,56],iconAnchor:[10,28]}),e.end=L.icon({iconUrl:"https://proxy-antonv.rhcloud.com/?url=http://map.project-osrm.org/images/marker-end-icon-2x.png",iconSize:[20,56],iconAnchor:[10,28]}),e.red=L.icon({iconUrl:"https://proxy-antonv.rhcloud.com/?url=http://harrywood.co.uk/maps/examples/leaflet/marker-icon-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://proxy-antonv.rhcloud.com/?url=http://cdn.leafletjs.com/leaflet/v0.7.7/images/marker-shadow.png",shadowRetinaUrl:"marker-shadow-@2x.png",shadowSize:[41,41],shadowAnchor:[12,41]})},function(t,e,n){"use strict";function r(t,e){var n=f.getSecondLanguage(),r=t.altNames;n?(t.name=e[0],r[n]=e[1],r.en=e[2]):(t.name=e[0],r.en=e[1])}function o(t){var e=t.name,n=t.altNames,o=n.fi,a=n.en,i=a?[e,o,a]:o?[e,o]:[e],s=i.join("|");
c.prompt((l=["New name"],l.raw=["New name"],p.tr(l)),s,function(n,o){var a=o.split("|");if(r(t,a),o===s)return c.warning((d=["Name was not changed"],d.raw=["Name was not changed"],p.tr(d)));var l=i.slice(1).join(", "),u=a.slice(1).join(", ");c.success((h=[""," (",") renamed to "," (",")"],h.raw=[""," (",") renamed to "," (",")"],p.tr(h,e,l,a[0],u)));var f=t.station;if(!(f.platforms.length<2)){c.confirm((m=["Rename the entire station?"],m.raw=["Rename the entire station?"],p.tr(m)),function(){for(var t=0,e=f.platforms;t<e.length;t++){var n=e[t];r(n,a)}c.success((i=["The entire station was renamed to ",""],i.raw=["The entire station was renamed to ",""],p.tr(i,o)));var i});var d,h,m}},function(){return c.warning((t=["Name change cancelled"],t.raw=["Name change cancelled"],p.tr(t)));var t});var l}function a(t,e){for(var n=void 0===e?void 0:Array.from(e).map(function(t){return t.line+t.branch}).join("|"),r=new Set,o=prompt("routes",n)||"",a=function(e){var n="M"===e[0]?e.match(/(M\d{0,2})(\w?)/):e.match(/([EL])(.{0,2})/);if(!n)return console.error("incorrect route",e),"continue";var o=n[1],a=n[2],i=t.routes.find(function(t){return t.line===o&&t.branch===a});void 0===i&&(console.log("creating new route"),i={line:o,branch:a},t.routes.push(i)),r.add(i)},i=0,s=o.split("|");i<s.length;i++){var l=s[i];a(l)}return r}function i(t,e){var n=0;addEventListener("keydown",function(r){r.shiftKey&&r.ctrlKey&&76===r.keyCode&&(r.preventDefault(),t.removeLayer(e[n]),++n===e.length&&(n=0),t.addLayer(e[n]),t.invalidateSize(!1))})}function s(t,e){var n=e.filter(function(t){return t.spans[0].routes[0].line.startsWith("M")}).map(function(t){return t.location}),r=function(t){return n.reduce(function(e,n){return e+t.distanceTo(n)},0)},o=u.polyline([],{color:"red"}),a=d.calculateGeoMean(n,r,1,function(t){return o.addLatLng(t)});t.addLayer(o);for(var i=5e3;i<2e4;i+=5e3)u.circle(a,i-250,{weight:1}).addTo(t),u.circle(a,i+250,{weight:1}).addTo(t);var s=(e.filter(function(t){return t.spans[0].routes[0].line.startsWith("E")}).map(function(t){return t.location}),"Glavnyj voxal"),l=e.find(function(t){return t.name===s&&t.spans[0].routes[0].line.startsWith("E")});if(l){var c=l.location;u.circle(c,3e4).addTo(t),u.circle(c,45e3).addTo(t)}}function l(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];t.addLayer(o).removeLayer(o)}}var u=n(1),c=n(8),f=n(0),d=n(10),p=n(6),h=n(34);e.MapEditor=h.default;var m=n(32);e.FAQ=m.default;var g=n(37);e.TextPlate=g.default;var y=n(35);e.RoutePlanner=y.default;var v=n(30);e.ContextMenu=v.default;var b=n(31);e.DistanceMeasure=b.default;var w=n(36);e.SvgOverlay=w.default;var x=n(18);e.Icons=x;var A=n(40);e.tileLayers=A,e.platformRenameDialog=o,e.askRoutes=a,e.addLayerSwitcher=i,e.drawZones=s,e.cacheIcons=l},function(t,e,n){(function(e,n){(function(){!function(t){"use strict";function n(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function o(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function a(t){this.map={},t instanceof a?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?e.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new e(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function l(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&w(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!x(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return A.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function g(t){var e=new a;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},x=ArrayBuffer.isView||function(t){return t&&b.indexOf(Object.prototype.toString.call(t))>-1};a.prototype.append=function(t,e){t=n(t),e=r(e);var o=this.map[t];this.map[t]=o?o+","+e:e},a.prototype.delete=function(t){delete this.map[n(t)]},a.prototype.get=function(t){return t=n(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(n(t))},a.prototype.set=function(t,e){this.map[n(t)]=r(e)},a.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},a.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),o(t)},a.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),o(t)},a.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),o(t)},v.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];y.redirect=function(t,e){if(k.indexOf(e)===-1)throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=a,t.Request=h,t.Response=y,t.fetch=function(t,n){return new e(function(e,r){var o=new h(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:g(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;e(new y(n,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),t.exports=n.fetch}).call(n)}).call(e,n(2),n(13))},function(t,e,n){"use strict";(function(t){var r=this&&this.__awaiter||function(e,n,r,o){return new(r||(r=t))(function(t,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(i,s)}l((o=o.apply(e,n||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},a=n(1),i=n(3),s=n(17),l=n(19),u=n(0),c=n(7),f=n(16),d=n(6),p=l.tileLayers,h=p.mapbox,m=p.mapnik,g=p.osmFrance,y=p.openMapSurfer,v=p.cartoDBNoLabels,b=p.wikimapia,w=u.sfx.Scale,x=u.math.getCenter,A=u.algorithm.findCycle,k=[{event:"routefrom",text:"Route from here"},{event:"routeto",text:"Route to here"},{event:"clearroute",text:"Clear route"},{event:"showheatmap",text:"Show heatmap",extra:{disabled:!0}}],j=function(){function e(t){this.mediator=new u.Mediator,this.whiskers=new WeakMap,this.platformsOnSVG=new WeakMap,this.config=t,this.makeMap()}return e.prototype.getMap=function(){return this.map},e.prototype.getNetwork=function(){return this.network},e.prototype.makeMap=function(){return r(this,void 0,void 0,function(){var e,n,r,i,f,p,w,x,A,k,j,M,_,E,C=this;return o(this,function(o){switch(o.label){case 0:return e=this.config,document.getElementById("scheme").href=e.url.scheme,n=this.getGraph(),r=c.getLineRules(),i=new t(function(t){return h.once("load",t)}),f=new l.FAQ(e.url.data),e.center=[0,0],p=Object.assign({},e),"1"===a.version[0]&&(p.wheelPxPerZoomLevel=75,p.inertiaMaxSpeed=1500,p.fadeAnimation=!1),this.map=a.map(e.containerId,p).addControl(a.control.scale({imperial:!1})),w=this.map.getPanes().mapPane.style,w.visibility="hidden",l.addLayerSwitcher(this.map,[h,m,g,y,v,b]),addEventListener("keydown",function(t){t.shiftKey&&t.ctrlKey&&82===t.keyCode&&C.getGraph().then(function(t){return C.resetNetwork(t)})}),this.addContextMenu(),[4,n];case 1:return x=o.sent(),this.network=new s.default(x),A=u.geo.getCenter(this.network.platforms.map(function(t){return t.location})),e.center=[A.lat,A.lng],k=a.latLngBounds(this.network.platforms.map(function(t){return t.location})),this.overlay=new l.SvgOverlay(k).addTo(this.map),j=this.overlay.defs,u.svg.Filters.appendAll(j),M=j.textContent,0===(M||"").length&&alert((E=["Your browser doesn't seem to have capabilities to display some features of the map. Consider using Chrome or Firefox for the best experience."],E.raw=["Your browser doesn't seem to have capabilities to display some features of the map. Consider using Chrome or Firefox for the best experience."],d.tr(E))),[4,r];case 2:return _=o.sent(),this.lineRules=_,this.resetMapView(),this.map.addLayer(h),this.map.on("overlayupdate",function(t){C.redrawNetwork()}),this.initNetwork(),this.map.invalidateSize(!1),this.addMapListeners(),(new l.RoutePlanner).addTo(this),(new l.DistanceMeasure).addTo(this.map),a.Browser.mobile||new l.MapEditor(e.detailedZoom).addTo(this),[4,f.whenAvailable];case 3:return o.sent(),f.addTo(this.map),[4,i];case 4:return o.sent(),u.fixFontRendering(),this.map.on("layeradd layerremove",function(t){return u.fixFontRendering()}),w.visibility="",[2]}})})},e.prototype.subscribe=function(t,e){this.mediator.subscribe(t,e),this.map.once(t,this.mediator.publish)},e.prototype.addContextMenu=function(){this.contextMenu=new l.ContextMenu(k);for(var t=0,e=k;t<e.length;t++){var n=e[t];this.map.on(n.event,this.mediator.publish)}this.contextMenu.addTo(this.map)},e.prototype.addMapListeners=function(){var t=this,e=function(t){var e=t;return f.default.outerEdgeBindings.getKey(e)||f.default.innerEdgeBindings.getKey(e)},n=function(t){return f.default.dummyBindings.getKey(t)},r=this,o=r.map,a=r.contextMenu;o.on("distancemeasureinit",function(t){a.insertItem("measuredistance","Measure distance")}),o.on("clearmeasurements",function(t){a.removeItem("clearmeasurements"),a.insertItem("measuredistance","Measure distance")}),o.on("zoomstart",function(e){t.plate.hide()}),this.subscribe("measuredistance",function(t){a.removeItem("measuredistance"),a.insertItem("clearmeasurements","Clear measurements")}),this.subscribe("platformrename",function(e){var r=n(e.relatedTarget);t.plate.show(u.svg.circleOffset(e.relatedTarget),u.getPlatformNames(r)),l.platformRenameDialog(r)}),this.subscribe("platformmovestart",function(e){t.plate.disabled=!0}),this.subscribe("platformmove",function(t){var e=n(t.relatedTarget);e.location=u.mouseToLatLng(o,t)}),this.subscribe("platformmoveend",function(e){var r=n(e.relatedTarget);t.plate.disabled=!1,t.plate.show(u.svg.circleOffset(e.relatedTarget),u.getPlatformNames(r))}),this.subscribe("platformadd",function(n){console.log(n);var r=n.detail,a=u.mouseToLatLng(o,r),i=new s.Platform((p=["New station"],p.raw=["New station"],d.tr(p)),a,{});if(t.network.platforms.push(i),void 0!==r.relatedTarget){var l=e(r.relatedTarget),c=l.source===i?"target":"source",f=new s.Span(i,l[c],l.routes);l[c]=i,t.network.spans.push(f)}t.overlay.extendBounds(a),t.resetNetwork(JSON.parse(t.network.toJSON()));var p}),this.subscribe("platformdelete",function(e){var r=n(e.relatedTarget);t.network.deletePlatform(r),t.redrawNetwork()}),this.subscribe("spanroutechange",function(n){if(void 0!==n.relatedTarget){var r=e(n.relatedTarget),o=l.askRoutes(t.network,new Set(r.routes));r.routes=Array.from(o),t.resetNetwork(JSON.parse(t.network.toJSON()))}}),this.subscribe("spaninvert",function(n){if(void 0!==n.relatedTarget){var r=e(n.relatedTarget);r.invert(),t.resetNetwork(JSON.parse(t.network.toJSON()))}}),this.subscribe("spanend",function(e){var n=f.default.dummyBindings.getKey(e.detail.source),r=f.default.dummyBindings.getKey(e.detail.target);console.log(n,r),a.removeItem("spanend");var o=n.passingRoutes(),i=r.passingRoutes(),c=o.size,d=i.size,p=c>0&&0===d?1===c?o:l.askRoutes(t.network,o):d>0&&0===c?1===d?i:l.askRoutes(t.network,i):l.askRoutes(t.network,u.intersection(o,i));t.network.spans.push(new s.Span(n,r,Array.from(p))),t.resetNetwork(JSON.parse(t.network.toJSON()))}),this.subscribe("spandelete",function(n){if(void 0!==n.relatedTarget){var r=e(n.relatedTarget);u.deleteFromArray(t.network.spans,r),t.resetNetwork(JSON.parse(t.network.toJSON()))}}),this.subscribe("transferend",function(e){var n=f.default.dummyBindings.getKey(e.detail.source),r=f.default.dummyBindings.getKey(e.detail.target);console.log(n,r),a.removeItem("transferend"),t.network.transfers.push(new s.Transfer(n,r)),t.resetNetwork(JSON.parse(t.network.toJSON()))}),this.subscribe("transferdelete",function(e){if(void 0!==e.relatedTarget){var n=e.relatedTarget,r=f.default.outerEdgeBindings.getKey(n)||f.default.innerEdgeBindings.getKey(n);u.deleteFromArray(t.network.transfers,r),t.resetNetwork(JSON.parse(t.network.toJSON()))}}),this.subscribe("editmapstart",function(e){o.getZoom()<t.config.detailedZoom&&o.setZoom(t.config.detailedZoom);var n=function(t){var e=t.parentElement;if(!e)return!1;var n=e.id;return"paths-outer"===n||"paths-inner"===n};a.insertItem("platformaddclick","New station",function(t){return!n(t)});var r=function(t){var e=t.parentElement;return!!e&&"dummy-circles"===e.id};a.insertItem("platformrename","Rename station",r),a.insertItem("platformdelete","Delete station",r),a.insertItem("spanstart","Span from here",r),a.insertItem("transferstart","Transfer from here",r),a.insertItem("spanroutechange","Change route",n),a.insertItem("spaninvert","Invert span",n),a.insertItem("platformaddtolineclick","Add station to line",n),a.insertItem("spandelete","Delete span",n),a.insertItem("transferdelete","Delete transfer",function(t){var e=t.parentElement;if(!e)return!1;var n=e.id;return"transfers-outer"===n||"transfers-inner"===n})}),this.subscribe("editmapend",function(t){a.removeItem("platformaddclick"),a.removeItem("platformrename"),a.removeItem("platformdelete"),a.removeItem("spanstart"),a.removeItem("transferstart"),a.removeItem("platformaddtolineclick"),a.removeItem("spanroutechange"),a.removeItem("spandelete"),a.removeItem("transferdelete")}),this.subscribe("mapsave",function(e){u.file.downloadText("graph.json",t.network.toJSON())})},e.prototype.initNetwork=function(){for(var t=this.overlay.origin,e=["paths-outer","paths-inner","transfers-outer","station-circles","transfers-inner","dummy-circles"],n=0,r=e;n<r.length;n++){var o=r[n],a=u.svg.createSVGElement("g");a.id=o,t.appendChild(a)}this.plate=new l.TextPlate,t.insertBefore(this.plate.element,document.getElementById("dummy-circles")),this.redrawNetwork(),this.addStationListeners()},e.prototype.resetMapView=function(){var t=this.config,e=t.center,n=t.zoom,r={pan:{animate:!1},zoom:{animate:!1}};return e?(this.map.setView(e,n+1,r),void this.map.setView(e,n,r)):void console.error("cannot set map to center")},e.prototype.getGraph=function(){return c.getJSON(this.config.url.graph)},e.prototype.resetNetwork=function(t){this.network=new s.default(t),this.redrawNetwork()},e.prototype.cleanElements=function(){for(var t=0,e=this.overlay.origin.childNodes;t<e.length;t++){var n=e[t];n!==this.plate.element&&u.removeAllChildren(n)}},e.prototype.addBindings=function(){for(var t=this.network.platforms,e=f.default.platformBindings,n=f.default.dummyBindings,r=0,o=t;r<o.length;r++){var a=o[r];this.platformToModel(a,[u.tryGetFromMap(e,a),u.tryGetFromMap(n,a)])}},e.prototype.redrawNetwork=function(){var t=this;console.time("pre"),this.cleanElements(),this.updatePlatformsPositionOnOverlay(),console.timeEnd("pre"),console.time("preparation");for(var e=this.config.detailedZoom,n=this.map.getZoom(),r=n>9?n:n>8?9.5:9,o=.5*(r-7),a=.75*o,s=r<e?1.25*o:o,l=r<e?.4*s:.6*s,c=2*s,d=.9*o,p=1.25*l,h={"station-circles":l,"dummy-circles":0,"transfers-outer":d+p/2,"transfers-inner":d-p/2,"paths-outer":o,"paths-inner":o/2},m=s+l/2,g=new Map,y=0,v=Object.keys(h);y<v.length;y++){var b=v[y];g.set(b,document.createDocumentFragment()),u.byId(b).style.strokeWidth=h[b]+"px"}var w=u.tryGetFromMap(this.lineRules,"light-rail-path");w.strokeWidth=a+"px";var x=Math.max(.5*(n+10),11),k=i.get(this.plate,"element.firstChild.firstChild.style");k&&(k.fontSize=x+"px");var j=new Map;console.timeEnd("preparation"),console.time("circle preparation");for(var M=u.tryGetFromMap(g,"station-circles"),_=u.tryGetFromMap(g,"dummy-circles"),E=0,C=this.network.stations;E<C.length;E++){for(var L=C[E],S=[],B=0,T=L.platforms;B<T.length;B++){var O=T[B],z=u.tryGetFromMap(this.platformsOnSVG,O);if(n>9){var F=u.svg.makeCircle(z,s);n>=e&&this.colorizePlatformCircle(F,O.passingLines());var I=u.svg.makeCircle(z,c);M.appendChild(F),f.default.platformBindings.set(O,F),_.appendChild(I),f.default.dummyBindings.set(O,I)}this.whiskers.set(O,this.makeWhiskers(O))}var P=A(this.network,L);if(P.length>0){for(var N=0,R=L.platforms;N<R.length;N++){var O=R[N];if(P.includes(O)){var G=u.tryGetFromMap(this.platformsOnSVG,O);S.push(G)}}j.set(L,P)}}if(console.timeEnd("circle preparation"),console.time("transfer preparation"),n>=e)for(var V=u.tryGetFromMap(g,"transfers-outer"),U=u.tryGetFromMap(g,"transfers-inner"),D=this.overlay.defs,q=0,Q=this.network.transfers;q<Q.length;q++){var W=Q[q],K=W.source,Y=W.target,X=u.tryGetFromMap(this.platformsOnSVG,W.source),Z=u.tryGetFromMap(this.platformsOnSVG,W.target),H=j.get(K.station),J=void 0!==H&&H.includes(K)&&H.includes(Y)?this.makeTransferArc(W,H):u.svg.makeTransferLine(X,Z);f.default.outerEdgeBindings.set(W,J[0]),f.default.innerEdgeBindings.set(W,J[1]);var $=[K,Y].map(function(e){return t.getPlatformColor(e)}),tt=m/X.distanceTo(Z),et=Z.subtract(X),nt=f.default.gradientBindings.get(W);void 0===nt?(nt=u.svg.Gradients.makeLinear(et,$,tt),nt.id=u.generateId(function(t){return null!==document.getElementById(t)}),f.default.gradientBindings.set(W,nt),D.appendChild(nt)):(u.svg.Gradients.setDirection(nt,et),u.svg.Gradients.setOffset(nt,tt)),J[0].style.stroke="url(#"+nt.id+")",V.appendChild(J[0]),U.appendChild(J[1])}console.timeEnd("transfer preparation"),console.time("span preparation");for(var rt=u.tryGetFromMap(g,"paths-outer"),ot=u.tryGetFromMap(g,"paths-inner"),at=0,it=this.network.spans;at<it.length;at++){var st=it[at],lt=this.makePath(st),ut=lt[0],ct=lt[1];rt.appendChild(ut),ct&&ot.appendChild(ct)}console.timeEnd("span preparation"),console.time("appending"),g.forEach(function(t,e){return u.byId(e).appendChild(t)}),this.addBindings(),console.timeEnd("appending")},e.prototype.updatePlatformsPositionOnOverlay=function(t){void 0===t&&(t=this.map.getZoom());for(var e=t<this.config.detailedZoom,n=0,r=this.network.stations;n<r.length;n++)for(var o=r[n],a=e?this.overlay.latLngToSvgPoint(o.getCenter()):void 0,i=0,s=o.platforms;i<s.length;i++){var l=s[i],u=a||this.overlay.latLngToSvgPoint(l.location);this.platformsOnSVG.set(l,u)}},e.prototype.getPlatformColor=function(t){return u.color.mean(this.linesToColors(t.passingLines()))},e.prototype.linesToColors=function(t){var e=this,n=[];return t.forEach(function(t){var r=u.tryGetFromMap(e.lineRules,"M"===t[0]?t:t[0]).stroke;r&&n.push(r)}),n},e.prototype.colorizePlatformCircle=function(t,e){if(0!==e.size){if(1===e.size){var n=e.values().next().value;return void t.classList.add("M"===n[0]?n:n[0])}t.style.stroke=u.color.mean(this.linesToColors(e))}},e.prototype.makeWhiskers=function(t){var e=this,n=u.tryGetFromMap(this.platformsOnSVG,t),r=new Map;if(0===t.spans.length)return r;if(1===t.spans.length)return r.set(t.spans[0],n);if(2===t.spans.length){if(2===t.passingLines().size)return r.set(t.spans[0],n).set(t.spans[1],n);var o=function(n){return u.tryGetFromMap(e.platformsOnSVG,n.other(t))},a=t.spans.map(function(t){return o(t).add(n).divideBy(2)}),i=u.midPointsToEnds(n,a);return r.set(t.spans[0],i[0]).set(t.spans[1],i[1])}for(var s=[[],[]],l=[[],[]],c=0,f=t.spans;c<f.length;c++){var d=f[c],p=d.other(t),h=u.tryGetFromMap(this.platformsOnSVG,p),m=d.source===t?0:1;s[m].push(h),l[m].push(d)}var g=function(t){return 1===t.length?t[0]:0===t.length?n:x(t)},y=s.map(function(t){return g(t).add(n).divideBy(2)}),v=u.midPointsToEnds(n,y);return l[0].forEach(function(t){return r.set(t,v[0])}),l[1].forEach(function(t){return r.set(t,v[1])}),r},e.prototype.makeTransferArc=function(t,e){var n=this,r=t.source,o=t.target,a=u.tryGetFromMap(this.platformsOnSVG,t.source),s=u.tryGetFromMap(this.platformsOnSVG,t.target),l=function(t){return u.svg.makeTransferArc(a,s,u.tryGetFromMap(n.platformsOnSVG,t))};if(3===e.length){var c=i.difference(e,[r,o])[0];return l(c)}if(r===e[2]&&o===e[3]||r===e[3]&&o===e[2])return u.svg.makeTransferLine(a,s);for(var f=[],d=0,p=this.network.transfers;d<p.length;d++){var h=p[d];h!==t&&(t.has(h.source)?f.push(h.target):t.has(h.target)&&f.push(h.source))}var m;if(2===f.length){if(f[0]!==f[1])throw Error("FFFFUC");m=f[0]}else{if(3!==f.length)throw new Error("111FUUFF");m=f[0]===f[1]?f[2]:f[0]===f[2]?f[1]:f[0]}return l(m)},e.prototype.makePath=function(t){var e=t.routes,n="",r="",o="";if(e.length>0){var a=t.routes[0].line.match(/([MEL])(\d{0,2})/);if(!a)throw new Error("match failed for "+t.source.name+"-"+t.target.name);n=a[0],r=a[1],o=a[2]}else console.error(t,"span has no routes!");var i=[u.tryGetFromMap(this.platformsOnSVG,t.source),u.tryGetFromMap(u.tryGetFromMap(this.whiskers,t.source),t),u.tryGetFromMap(u.tryGetFromMap(this.whiskers,t.target),t),u.tryGetFromMap(this.platformsOnSVG,t.target)],s=u.svg.makeCubicBezier(i);if("E"===r){s.classList.add("E");var l=s.cloneNode(!0);return f.default.outerEdgeBindings.set(t,s),f.default.innerEdgeBindings.set(t,l),[s,l]}return void 0!==n&&s.classList.add(n),void 0!==r?s.classList.add(r):s.style.stroke="black",f.default.outerEdgeBindings.set(t,s),[s]},e.prototype.addStationListeners=function(){var t=this,e=function(e){t.plate.hide(),w.unscaleAll()},n=u.byId("dummy-circles");n.addEventListener("mouseover",function(e){var n=e.target,r=f.default.dummyBindings.getKey(n),o=r.station,a=t.map.getZoom()<t.config.detailedZoom&&o.platforms.length>1?o.getNames():u.getPlatformNames(r);t.highlightStation(o,a)}),n.addEventListener("mouseout",e);var r=function(e){var n=e.target,r=f.default.outerEdgeBindings.getKey(n)||f.default.innerEdgeBindings.getKey(n),o=u.getPlatformNamesZipped([r.source,r.target]);t.highlightStation(r.source.station,o)},o=u.byId("transfers-outer"),a=u.byId("transfers-inner");o.addEventListener("mouseover",r),a.addEventListener("mouseover",r),o.addEventListener("mouseout",e),a.addEventListener("mouseout",e)},e.prototype.highlightStation=function(t,e){var n,r,o=1.25;if(1===t.platforms.length)r=t.platforms[0],n=u.tryGetFromMap(f.default.platformBindings,r),w.scaleCircle(n,o,!0);else{var a=this.map.getZoom()<this.config.detailedZoom?void 0:this.network.transfers;w.scaleStation(t,o,a),r=t.platforms.reduce(function(t,e){return t.location.lat<e.location.lat?e:t}),n=u.tryGetFromMap(f.default.platformBindings,r)}this.plate.show(u.svg.circleOffset(n),e)},e.prototype.platformToModel=function(t,e){var n=this,r=t.location;Object.defineProperty(t,"location",{get:function(){return t._location},set:function(r){t._location=r;for(var o=n.map.getZoom()<n.config.detailedZoom?t.station.getCenter():r,a=n.overlay.latLngToSvgPoint(o),i=0,s=e;i<s.length;i++){var l=s[i];l.setAttribute("cx",a.x.toString()),l.setAttribute("cy",a.y.toString())}n.whiskers.set(t,n.makeWhiskers(t)),n.platformsOnSVG.set(t,a);for(var c=new Set(t.spans),d=0,p=t.spans;d<p.length;d++){var h=p[d],m=h.other(t);n.whiskers.set(m,n.makeWhiskers(m)),m.spans.forEach(function(t){return c.add(t)})}c.forEach(function(t){var e=[u.tryGetFromMap(n.platformsOnSVG,t.source),u.tryGetFromMap(u.tryGetFromMap(n.whiskers,t.source),t),u.tryGetFromMap(u.tryGetFromMap(n.whiskers,t.target),t),u.tryGetFromMap(n.platformsOnSVG,t.target)],r=f.default.outerEdgeBindings.get(t),o=f.default.innerEdgeBindings.get(t);u.svg.setBezierPath(r,e),o&&u.svg.setBezierPath(o,e)});for(var g=0,y=t.transfers;g<y.length;g++){var v=y[g];v[v.source===t?"source":"target"]=t}}}),t._location=r},e.prototype.transferToModel=function(t,e){var n=this,r=[t.source,t.target],o=e[0].tagName;["source","target"].forEach(function(a,s){Object.defineProperty(t,a,{get:function(){return t["_"+a]},set:function(r){t["_"+a]=r;var l=u.tryGetFromMap(f.default.platformBindings,r),c=parseFloat(getComputedStyle(l).strokeWidth||""),d=+l.getAttribute("r")/2+c,p=u.tryGetFromMap(n.platformsOnSVG,r);if("line"===o){for(var h=s+1,m=t.other(r),g=0,y=e;g<y.length;g++){var v=y[g];v.setAttribute("x"+h,p.x.toString()),v.setAttribute("y"+h,p.y.toString())}var b=u.tryGetFromMap(f.default.gradientBindings,t),w=u.tryGetFromMap(n.platformsOnSVG,m),x="source"===a?w.subtract(p):p.subtract(w);u.svg.Gradients.setDirection(b,x);var A=d/p.distanceTo(w);u.svg.Gradients.setOffset(b,A)}else{if("path"!==o)throw new TypeError("wrong element type for transfer");for(var k=[],j=0,M=n.network.transfers;j<M.length;j++){var _=M[j];if(t.isAdjacent(_)&&(k.push(_),3===k.length))break}for(var E=new Set,C=0,L=k;C<L.length;C++){var S=L[C];E.add(S.source).add(S.target)}var B=Array.from(E).map(function(t){return n.platformsOnSVG.get(t)});E.forEach(function(t){return B.push(n.platformsOnSVG.get(t))});for(var T=k.map(function(t){return f.default.outerEdgeBindings.get(t)}),O=k.map(function(t){return f.default.innerEdgeBindings.get(t)}),z=0;z<3;++z){var F=k[z],I=T[z],P=O[z],N=u.tryGetFromMap(n.platformsOnSVG,F.source),R=u.tryGetFromMap(n.platformsOnSVG,F.target),G=i.difference(B,[N,R])[0];G&&(u.svg.setCircularPath(I,N,R,G),P.setAttribute("d",I.getAttribute("d")));var b=u.tryGetFromMap(f.default.gradientBindings,F);u.svg.Gradients.setDirection(b,R.subtract(N));var A=d/N.distanceTo(R);u.svg.Gradients.setOffset(b,A)}}}}),t["_"+a]=r[s]})},e}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=j}).call(e,n(2))},function(t,e,n){var r=n(47);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(48);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(49);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(50);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){"use strict";var r=function(){function t(t,e,n,r){void 0===n&&(n={}),this.spans=[],this.transfers=[],this.name=t,this.altNames=n,this.location=e,this.elevation=r}return Object.defineProperty(t.prototype,"station",{get:function(){return this._station},enumerable:!0,configurable:!0}),t.prototype.passingRoutes=function(){for(var t=new Set,e=0,n=this.spans;e<n.length;e++)for(var r=n[e],o=0,a=r.routes;o<a.length;o++){var i=a[o];t.add(i)}return t},t.prototype.passingLines=function(){for(var t=new Set,e=0,n=this.spans;e<n.length;e++)for(var r=n[e],o=0,a=r.routes;o<a.length;o++){var i=a[o];t.add(i.line)}return t},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(0),a=n(9),i=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return e.spans.push(o),n.spans.push(o),o.routes=r,o}return r(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){void 0!==this._source&&o.deleteFromArray(this._source.spans,this),
this._source=t,t.spans.push(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){void 0!==this._target&&o.deleteFromArray(this._target.spans,this),this._target=t,t.spans.push(this)},enumerable:!0,configurable:!0}),e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";var r=n(0),o=function(){function t(t){this.platforms=t;for(var e=0,n=t;e<n.length;e++){var r=n[e];r._station=this}}return t.prototype.getNames=function(){return r.getPlatformNamesZipped(this.platforms)},t.prototype.getCenter=function(){return r.geo.getCenter(this.platforms.map(function(t){return t.location}))},t.prototype.passingLines=function(){for(var t=new Set,e=0,n=this.platforms;e<n.length;e++)for(var r=n[e],o=0,a=r.spans;o<a.length;o++)for(var i=a[o],s=0,l=i.routes;s<l.length;s++){var u=l[s];t.add(u.line)}return t},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(0),a=n(9),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return e.transfers.push(r),n.transfers.push(r),r}return r(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){void 0!==this._source&&o.deleteFromArray(this._source.transfers,this),this._source=t,t.transfers.push(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){void 0!==this._target&&o.deleteFromArray(this._target.transfers,this),this._target=t,t.transfers.push(this)},enumerable:!0,configurable:!0}),e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";var r=n(1),o=n(3),a=n(0),i=n(6),s=n(59),l=function(){function t(t){console.log("adding context menu"),this.items=t,this.container=document.createElement("div"),this.container.classList.add(s.contextmenu),this.container.addEventListener("contextmenu",function(t){t.preventDefault(),t.target.click()}),console.log("context menu ready")}return t.prototype.addTo=function(t){return this.onAdd(t),this},t.prototype.onAdd=function(t){var e=this;if(this.map=t,void 0===t)throw new Error("cannot add map editor to metro map: leaflet map is missing");var n=t.getPanes().mapPane,o=t.getContainer(),a=function(t){return e.handler(t)},i=function(t){return e.hide()};n.addEventListener("contextmenu",a,!1),o.addEventListener("mousedown",i),o.addEventListener("touchstart",i),r.Browser.mobile||t.on("movestart",i),document.body.appendChild(this.container)},t.prototype.onRemove=function(t){},t.prototype.handler=function(t){var e=this;t.preventDefault(),console.log("target",t.target,t.target.parentNode),a.removeAllChildren(this.container);for(var n=0,r=this.items;n<r.length;n++){var o=r[n];if(void 0===o.trigger||o.trigger(t.target)){var s=document.createElement("div");void 0!==o.extra&&o.extra.disabled?s.setAttribute("disabled",""):s.setAttribute("data-event",o.event),s.textContent=i.translate(o.text),this.container.appendChild(s)}else console.log(o.trigger(t.target))}this.container.onclick=function(n){console.log(n);var r=n.target,o=r.getAttribute("data-event");o&&(e.hide(),e.map.fireEvent(o,{clientX:h,clientY:m,relatedTarget:t.target}))};var l=this.container.getBoundingClientRect(),u=l.width,c=l.height,f=document.documentElement,d=f.clientWidth,p=f.clientHeight,h=t.clientX,m=t.clientY,g=h+u>d?d-u:h,y=m+c>p?m-c:m;this.container.style.transform="translate("+g+"px, "+y+"px)",this.show()},t.prototype.insertItem=function(t,e,n,r,o){var a={event:t,text:e,trigger:n,extra:r};void 0===o||o<0?this.items.push(a):this.items.splice(o,0,a)},t.prototype.removeItem=function(t,e){if(void 0===e&&(e=!1),e)return void o.remove(this.items,function(e){return e.event===t});var n=this.items.findIndex(function(e){return e.event===t});void 0===n||n<0||this.items.splice(n,1)},t.prototype.show=function(){this.container.style.visibility=null,r.Browser.mobile&&this.map.dragging.disable()},t.prototype.hide=function(){this.container.style.visibility="hidden",r.Browser.mobile&&this.map.dragging.enable()},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},function(t,e,n){"use strict";var r=n(1),o=n(3),a=n(0),i=n(18),s=function(){function t(){var t=this;this.polyline=r.polyline([],{color:"red"}),this.markers=r.featureGroup().on("layeradd layerremove",function(t){return a.fixFontRendering()}),this.dashedLine=r.polyline([],{color:"red",opacity:.5,dashArray:"0,9"}),this.makeMarker=function(e){if(0===e.originalEvent.button){var n=function(e){t.dashedLine.setStyle({opacity:0}),t.updateDistances()},o=r.marker(e.latlng,{draggable:!0}).setIcon(i.RedCircle).bindPopup("").on("mouseover",function(e){return t.hideDashedLine()}).on("mouseout",function(e){return t.showDashedLine()}).on("drag",n).on("click",t.onCircleClick.bind(t));t.markers.addLayer(o),t.updateDistances()}},this.resetDashedLine=function(e){t.dashedLine.getLatLngs()[1]=e.latlng,t.dashedLine.redraw()}}return t.prototype.onAdd=function(t){var e=this;this.map=t;return t.fireEvent("distancemeasureinit"),t.on("measuredistance",function(n){return e.measureDistance(a.mouseToLatLng(t,n))}),t.on("clearmeasurements",function(t){return e.clearMeasurements()}),this},t.prototype.onRemove=function(t){},t.prototype.addTo=function(t){return this.onAdd(t),this},t.prototype.updateDistances=function(){var t=this.polyline.getLatLngs(),e=this.markers.getLayers(),n=e.length;t[0]=e[0].setPopupContent("0").getLatLng();for(var r=1,a=0;r<n;++r){var i=e[r].getLatLng();t[r]=i,a+=e[r-1].getLatLng().distanceTo(i);var s=Math.round(a),l=s<1e3?s+" m":(s<1e4?s/1e3:Math.round(s/10)/100)+" km";e[r].setPopupContent(l)}t.length>n&&(t.length=n),this.dashedLine.getLatLngs()[0]=o.last(t),this.polyline.redraw(),n>1&&o.last(e).openPopup()},t.prototype.showDashedLine=function(){this.dashedLine.setStyle({opacity:.5})},t.prototype.hideDashedLine=function(){this.dashedLine.setStyle({opacity:0})},t.prototype.onCircleClick=function(t){if(0===t.originalEvent.button){if(this.markers.removeLayer(t.target),0===this.markers.getLayers().length)return void this.map.fire("clearmeasurements");this.updateDistances(),this.map.hasLayer(this.dashedLine)||this.showDashedLine()}},t.prototype.measureDistance=function(t){var e=this;this.dashedLine.addLatLng(t).addLatLng(t),this.map.addLayer(this.polyline.setLatLngs([])).addLayer(this.markers).addLayer(this.dashedLine.setLatLngs([])).on("click",this.makeMarker).on("mousemove",this.resetDashedLine).fire("click",{latlng:t,originalEvent:{button:0}}),a.onceEscapePress(function(t){return e.map.fire("clearmeasurements")})},t.prototype.clearMeasurements=function(){this.map.removeLayer(this.polyline).removeLayer(this.markers.clearLayers()).removeLayer(this.dashedLine).off("mousemove",this.resetDashedLine).off("click",this.makeMarker)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),a=n(15),i=n(39),s=n(0),l=n(60),u=function(e){function n(n){var r=e.call(this)||this,i=t(n).then(function(t){return t.json()}),s=document.createElement("button");s.textContent="FAQ",s.classList.add("leaflet-control"),s.classList.add(l["faq-button"]),s.addEventListener("click",function(t){return r.showFAQ()}),r.button=s,r.card=document.createElement("div"),r.card.classList.add(l["faq-card"]),o.Browser.mobile&&new a(r.card).on("swipeleft swiperight",function(t){return r.hideFAQ()});var u=/\[\[(.+?)\|(.*?)\]\]/g,c='<a href="$1" target="_blank">$2</a>',f=l.question,d=l.answer,p=function(t){return'\n            <div>\n                <span class="'+f+'">'+t.q+'</span>\n                <span class="'+d+'">'+t.a+"</span>\n            </div>\n        "};return r._whenAvailable=i.then(function(t){r.card.innerHTML+=t.faq.map(p).join("").replace(u,c)}),r}return r(n,e),n.prototype.addTo=function(t){var e=this;this.map=t,this.whenAvailable.then(function(t){var n=document.querySelector(".leaflet-right.leaflet-top");return document.body.appendChild(e.card),n?void n.appendChild(e.button):void console.error("cannot append to .leaflet-right.leaflet-top")})},n.prototype.showFAQ=function(){var t=this,e=this,n=e.card,r=e.map,a=e.button,i=this.card.style;i.display="inline",i.transform="scale(0.1)",i.opacity="0",n.getBoundingClientRect(),i.transform=null,i.opacity=null,a.disabled=!0,o.Browser.mobile||(r.getContainer().classList.add("dimmed"),r.once("mousedown",function(e){return t.hideFAQ()}),s.once(window,"keydown").then(function(t){27===t.keyCode&&r.fireEvent("mousedown")}))},n.prototype.hideFAQ=function(){var t=this,e=t.card,n=t.map,r=t.button;e.getBoundingClientRect(),e.style.transform="scale(0.1)",e.style.opacity="0",o.Browser.mobile||n.getContainer().classList.remove("dimmed"),s.transitionEnd(e).then(function(t){return e.style.display=null}),r.disabled=!1},n}(i.DeferredWidget);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u}).call(e,n(20))},function(t,e,n){"use strict";var r=n(0),o=r.svg.createSVGElement("svg");o.setAttribute("width","100"),o.setAttribute("height","100");var a=r.svg.makeCircle(L.point(50,50),40);a.style.stroke="red",a.style.strokeWidth="20px",a.style.fill="white",o.appendChild(a);var i=5;Object.defineProperty(e,"__esModule",{value:!0}),e.default=L.icon({iconUrl:r.file.svgToDataUrl(o),iconSize:[2*i,2*i],iconAnchor:[i,i],popupAnchor:[0,-i]})},function(t,e,n){"use strict";var r=n(6),o=n(0),a=n(61),i=function(){function t(t){var e=this,n=document.createElement("button");n.textContent="Edit Map",n.classList.add("leaflet-control"),n.classList.add(a["edit-map-button"]),n.onclick=function(t){return e.editMapClick()},this.button=n}return Object.defineProperty(t.prototype,"editMode",{get:function(){return this._editMode},set:function(t){var e=this;if(t){var n=o.byId("dummy-circles");this.button.textContent=(a=["Save map"],a.raw=["Save map"],r.tr(a)),this.button.onclick=function(t){return e.saveMapClick()},n.onmousedown=n.onclick=function(){return!1},this.metroMap.mediator.publish(new Event("editmapstart"))}else this.button.textContent=(i=["Edit map"],i.raw=["Edit map"],r.tr(i)),this.button.onclick=function(t){return e.editMapClick()},this.metroMap.mediator.publish(new Event("editmapend"));this._editMode=t;var a,i},enumerable:!0,configurable:!0}),t.prototype.addTo=function(t){var e=t.getMap();if(void 0===e)throw new Error("cannot add map editor to metro map: map is missing");this.metroMap=t;var n=document.querySelector(".leaflet-right.leaflet-top");return n?(n.appendChild(this.button),this.editMode=!1):console.error("cannot append to .leaflet-right.leaflet-top"),this},t.prototype.editMapClick=function(){this.editMode=!0,this.addMapListeners()},t.prototype.saveMapClick=function(){this.metroMap.mediator.publish(new Event("mapsave")),this.editMode=!1},t.prototype.addMapListeners=function(){console.log("adding edit map listeners");var t,e,n,r=this.metroMap.getMap(),a=o.byId("dummy-circles"),i=(o.byId("paths-outer"),o.byId("paths-inner"),this.metroMap.mediator);a.addEventListener("mousedown",function(o){if(2!==o.button&&n){var a={source:n,target:o.target};console.log(a),i.publish(new CustomEvent("span"===e?"spanend":"transferend",{detail:a})),n=null,e=void 0}else 0===o.button?(r.dragging.disable(),t=o.target,i.publish(new MouseEvent("platformmovestart",{relatedTarget:o.target}))):1===o.button&&(console.log("foo",o.target),i.publish(new MouseEvent("spanstart",{relatedTarget:o.target})))}),r.on("mousemove",function(e){if(t){var n=e.originalEvent,r=n.clientX,o=n.clientY,a={relatedTarget:t,clientX:r,clientY:o};i.publish(new MouseEvent("platformmove",a))}}).on("mouseup",function(e){if(t){r.dragging.enable();var n={relatedTarget:t};i.publish(new MouseEvent("platformmoveend",n)),t=null}}),this.metroMap.subscribe("spanstart",function(t){e="span",n=t.relatedTarget}),this.metroMap.subscribe("transferstart",function(t){e="transfer",n=t.relatedTarget}),this.metroMap.subscribe("platformaddclick",function(t){var e=t.clientX,n=t.clientY;i.publish(new CustomEvent("platformadd",{detail:{clientX:e,clientY:n}}))}),this.metroMap.subscribe("platformaddtolineclick",function(t){i.publish(new CustomEvent("platformadd",{detail:t}))})},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";var r=n(1),o=n(8),a=n(0),i=n(19),s=a.sfx,l=a.algorithm.shortestRoute,u=function(){function t(){var t=this;this.onFromTo=function(e){var n=t.metroMap.getMap(),r=a.mouseToLatLng(n,e),o="routefrom"===e.type?t.fromMarker:t.toMarker;o.setLatLng(r),n.hasLayer(o)||n.addLayer(o);var i=o===t.fromMarker?t.toMarker:t.fromMarker;n.hasLayer(i)&&(a.fixFontRendering(),t.visualizeRouteBetween(t.fromMarker.getLatLng(),t.toMarker.getLatLng()))},this.clearRoute=function(){var e=t.metroMap.getMap(),n=s.Animation.terminateAnimations();e.removeLayer(t.fromMarker).removeLayer(t.toMarker),t.fromMarker.off("drag").off("dragend"),t.toMarker.off("drag").off("dragend"),o.dismissAll(),n.then(a.resetStyle)},this.fromMarker=r.marker([0,0],{draggable:!0,icon:i.Icons.start}),this.toMarker=r.marker([0,0],{draggable:!0,icon:i.Icons.end}),this.addMarkerListeners()}return t.prototype.addTo=function(t){this.metroMap=t;var e=t.mediator,n=t.getMap(),r=n.getCenter();return this.fromMarker.setLatLng(r),this.toMarker.setLatLng(r),i.cacheIcons(n,[this.fromMarker,this.toMarker]),e.subscribe("routefrom",this.onFromTo),e.subscribe("routeto",this.onFromTo),e.subscribe("clearroute",this.clearRoute),n.on("zoomstart",s.Animation.terminateAnimations),addEventListener("keydown",function(t){27===t.keyCode&&e.publish(new Event("clearroute"))}),this},t.prototype.addMarkerListeners=function(){for(var t=this,e=0,n=[this.fromMarker,this.toMarker];e<n.length;e++){var r=n[e];r.on("drag",function(e){return t.visualizeShortestRoute(!1)}).on("dragend",function(e){a.fixFontRendering(),t.visualizeShortestRoute()})}},t.prototype.visualizeShortestRoute=function(t){void 0===t&&(t=!0);var e=this.metroMap.getMap();e.hasLayer(this.fromMarker)&&e.hasLayer(this.toMarker)&&this.visualizeRouteBetween(this.fromMarker.getLatLng(),this.toMarker.getLatLng(),t)},t.prototype.visualizeRouteBetween=function(t,e,n){void 0===n&&(n=!0),a.resetStyle(),o.dismissAll(),s.visualizeRoute(l(this.metroMap.getNetwork().platforms,t,e),n)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),a=n(38),i=n(12),s=n(62),l=function(t){function e(e,n){void 0===n&&(n=o.point(100,100));var r=t.call(this,e,n)||this;return r.overlayContainer=i.createSVGElement("svg"),r.overlayContainer.classList.add(s.overlay),r.defs=i.createSVGElement("defs"),r.overlayContainer.appendChild(r.defs),r.origin=i.createSVGElement("g"),r.origin.id="origin",r.origin.setAttribute("transform","translate("+r.margin.x+", "+r.margin.y+")"),r.overlayContainer.appendChild(r.origin),r}return r(e,t),e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},function(t,e,n){"use strict";var r=n(0),o=n(63),a=function(){function t(){this.element=r.svg.createSVGElement("g"),this._disabled=!1,this._editable=!1;var t=document.createElement("div");t.classList.add(o["plate-box"]);var e=r.svg.createSVGElement("foreignObject");e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.appendChild(t);var n=this.element;n.id="station-plate",n.style.display="none",n.appendChild(e)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t?this.hide():getSelection().removeAllRanges(),this._disabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable},set:function(t){for(var e=t?"true":"false",n=this.element.childNodes[1].children[1],r=n.children,o=0,a=r;o<a.length;o++){var i=a[o];i.contentEditable=e}},enumerable:!0,configurable:!0}),t.prototype.show=function(t,e){if(!this.disabled&&"none"===this.element.style.display){var n=this.element.firstChild,r=n.firstChild;r.innerHTML=e.join("<br>"),this.element.setAttribute("transform","translate("+t.x+", "+t.y+")"),this.element.style.display=null;var o=r.getBoundingClientRect(),a=o.width,i=o.height;n.setAttribute("transform","translate("+-a+", "+-i+")"),console.log(n.getBoundingClientRect()),console.log(r.getBoundingClientRect())}},t.prototype.hide=function(){this.element.style.display="none"},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=250),setTimeout(function(){return a.fixFontRendering(t)},e)}var o=n(1),a=n(0),i=function(){function t(t,e){void 0===e&&(e=o.point(100,100)),this.margin=e.round(),this.bounds=t}return t.prototype.addTo=function(t){return this.onAdd(t),this},t.prototype.onAdd=function(t){this.map=t,this.minZoom=t.getMinZoom(),this.maxZoom=t.getMaxZoom(),this.updateOverlayPositioning();var e=t.getPanes(),n=e.objectsPane,r=e.markerPane,a=e.mapPane;("1"===o.version[0]?a:n).insertBefore(this.overlayContainer,r),this.addMapMovementListeners()},t.prototype.onRemove=function(t){var e=t.getPanes(),n=e.objectsPane,r=e.mapPane;("1"===o.version[0]?r:n).removeChild(this.overlayContainer),this.map.clearAllEventListeners()},t.prototype.addMapMovementListeners=function(){var t,e=this,n=this.map,i=n.getPanes(),s=i.mapPane,l=i.tilePane,u=i.overlayPane,c=this.overlayContainer,f=c.style,d=c.classList;n.on("zoomstart",function(t){d.add("leaflet-zoom-animated"),console.log("zoomstart",t),n.dragging.disable()}).on("zoomanim",function(n){console.log("zoomanim",n);var r=n,o=r.scale,i=r.origin;1!==o&&a.scaleOverlay(e.overlayContainer,o,t||i),t=null}).on("zoomend",function(t){console.log("zoomend",t),d.remove("leaflet-zoom-animated"),f.transform=null,f.transformOrigin=null,e.updateOverlayPositioning(),n.fireEvent("overlayupdate",e),n.dragging.enable()}).on("moveend",function(t){a.fixFontRendering(),"1"===o.version[0]?r(l.firstElementChild):u.hasChildNodes()&&r(u,0)});var p=function(e){return t=o.DomEvent.getMousePosition(e)};s.addEventListener("wheel",p);var h=document.querySelector(".leaflet-control-container");h?h.addEventListener("wheel",p):console.error("cannot append wheel to leaflet-control-container"),n.zoomControl.getContainer().addEventListener("mousedown",function(e){return t=o.point(innerWidth/2,innerHeight/2).round()},!0),n.on("dblclick",function(e){return t=o.DomEvent.getMousePosition(e.originalEvent)}),document.addEventListener("keydown",function(e){return t=o.point(innerWidth/2,innerHeight/2)})},t.prototype.updateOverlayPositioning=function(){var t=this.bounds.getNorthWest(),e=this.bounds.getSouthEast(),n=this,r=n.map,a=n.margin;this.topLeft=r.project(t).round();var i=o.bounds(r.latLngToLayerPoint(t),r.latLngToLayerPoint(e)),s=this.overlayContainer.style,l=i.min.subtract(a);s.left=l.x+"px",s.top=l.y+"px";var u=i.getSize().add(a).add(a);s.width=u.x+"px",s.height=u.y+"px"},t.prototype.extendBounds=function(t){this.bounds.extend(t),this.updateOverlayPositioning()},t.prototype.latLngToSvgPoint=function(t){return this.map.project(t).round().subtract(this.topLeft)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";var r=function(){function t(){}return Object.defineProperty(t.prototype,"whenAvailable",{get:function(){return this._whenAvailable},enumerable:!0,configurable:!0}),t}();e.DeferredWidget=r},function(t,e,n){"use strict";var r=n(1);e.mapbox=r.tileLayer("https://{s}.tiles.mapbox.com/v3/inker.mlo91c41/{z}/{x}/{y}.png",{detectRetina:!r.Browser.mobile,attribution:'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="https://mapbox.com">Mapbox</a>'}),e.mapnik=r.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{detectRetina:!r.Browser.mobile,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),e.osmFrance=r.tileLayer("http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{detectRetina:!r.Browser.mobile,attribution:'&copy; Openstreetmap France | &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),e.openMapSurfer=r.tileLayer("http://korona.geog.uni-heidelberg.de/tiles/roads/x={x}&y={y}&z={z}",{attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),e.hyddaBase=r.tileLayer("https://{s}.tile.openstreetmap.se/hydda/base/{z}/{x}/{y}.png",{detectRetina:!r.Browser.mobile,attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://server.ts.openstreetmap.org/copyright">OpenStreetMap</a>'}),e.esriGrey=r.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{detectRetina:!r.Browser.mobile,attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"}),e.cartoDB=r.tileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'}),e.cartoDBNoLabels=r.tileLayer("http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'}),e.wikimapia=r.tileLayer("http://i{hash}.wikimapia.org/?x={x}&y={y}&zoom={z}",{detectRetina:!r.Browser.mobile,hash:function(t){return t.x%4+t.y%4*4}})},function(t,e,n){"use strict";var r=function(){function t(){var t=this;this.eventListeners=new Map,this.publish=function(e){console.log("event as seen from the dispatcher",e);var n=e.type,r=t.eventListeners.get(n);if(void 0===r||0===r.length)return console.log("no event listeners registered for",n),!1;for(var o=0,a=r;o<a.length;o++){var i=a[o];i(e)}return!0}}return t.prototype.subscribe=function(t,e){var n=this.eventListeners.get(t);void 0===n?this.eventListeners.set(t,[e]):n.push(e)},t.prototype.unsubscribe=function(t,e){var n=this.eventListeners.get(t);if(void 0!==n){var r=n.indexOf(e);r<0||n.splice(r,1)}},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t,e){if(e.platforms.length<3)return[];var n=e.platforms;if(3===n.length){for(var r=function(e){if(2!==t.transfers.filter(function(t){return t.has(e)}).length)return{value:[]}},o=0,a=e.platforms;o<a.length;o++){var i=a[o],l=r(i);if("object"==typeof l)return l.value}return n}if(4===n.length){var u=t.transfers,c=n.map(function(t){return{platform:t,degree:u.filter(function(e){return e.has(t)}).length}}).sort(function(t,e){return t.degree-e.degree}),f=c.map(function(t){return t.degree}),d=c.map(function(t){return t.platform});if(s.isEqual(f,[2,2,3,3]))return d;if(s.isEqual(f,[1,2,2,3]))return d.slice(1)}return[]}function o(t,e,n){for(var r=new Map,o=new Map,i=0,b=t;i<b.length;i++){var w=b[i],x=w.spans.some(function(t){return t.routes[0].line.startsWith("E")}),A=f(e,w.location),k=A/d;r.set(w,k+(x?v:y)),A=f(w.location,n),k=A/d,o.set(w,k)}for(var j=u.findClosestObject(e,t),M=new Set(t),_=new Map,E=function(){var t=1/0;M.forEach(function(e){var n=c.tryGetFromMap(r,e);n<t&&(j=e,t=n)}),M.delete(j);for(var e=[],n=[],o=0,a=j.spans;o<a.length;o++){var i=a[o],s=i.other(j);if(M.has(s)){e.push(s);var u=f(j.location,s.location),b=0,w=i.routes[0].line.startsWith("E")?g:m,x=l.timeToTravel(u,p,h);n.push(x+w+b)}}for(var A=0,k=j.station.platforms;A<k.length;A++){var s=k[A];if(M.has(s)){e.push(s);var E=s.spans.some(function(t){return t.routes[0].line.startsWith("E")}),u=f(j.location,s.location)/2;n.push(u/d+(E?v:y))}}for(var C=0,L=e.length;C<L;++C){var s=e[C],S=r.get(j)+n[C];S<r.get(s)&&(r.set(s,S),_.set(s,j))}};M.size>0;)E();var C=1/0;r.forEach(function(t,e){var n=r.get(e)+o.get(e);n<C&&(C=n,j=e)});var L=f(e,n)/d;if(L<C)return{time:{walkTo:L}};for(var S=[],B=[j],T=_.get(j);void 0!==T&&void 0!==T;T=_.get(j)){for(var O=void 0,z=0,F=j.spans;z<F.length;z++){var I=F[z];if(I.has(T)){O=I;break}}if(void 0===O)for(var P=0,N=j.transfers;P<N.length;P++){var R=N[P];if(R.has(T)){O=R;break}}if(void 0===O){var G=a(T,j),V=G.transfers,U=G.midPlatforms;S.push.apply(S,V.reverse()),B.push.apply(B,U)}else S.push(O);B.push(T),j=T}B.reverse(),S.reverse();var D=o.get(s.last(B)),q=c.tryGetFromMap(r,B[0]);return{platforms:B,edges:S,time:{walkTo:q,metro:C-D-q,walkFrom:D,total:C}}}function a(t,e){if(t.station!==e.station)throw new Error("platforms ("+t.name+" & "+e.name+" must be on the same station");for(var n=t.station,r=n.platforms,o=new Set(r),a=new Map,i=new Map,s=0,l=r;s<l.length;s++){var u=l[s];a.set(u,1/0)}a.set(t,0);for(var d=t,p=function(){var t=1/0;o.forEach(function(e){var n=c.tryGetFromMap(a,e);n<t&&(d=e,t=n)}),o.delete(d);for(var e=d.transfers.map(function(t){return t.other(d)}),n=0,r=e;n<r.length;n++){var s=r[n];if(s&&o.has(s)){var l=f(d.location,s.location),u=a.get(d)+l;u<a.get(s)&&(a.set(s,u),i.set(s,d))}}};o.size>0;)p();var h=[],m=[];d=e;for(var g=function(){var t=i.get(d);if(!t)return"break";var e=d.transfers.find(function(e){return e.has(t)});return e?(h.push(e),d=t,void m.push(d)):(console.error("cannot find transfer node"),"continue")};;){var y=g();if("break"===y)break}return m.pop(),{transfers:h.reverse(),midPlatforms:m.reverse()}}var i=n(1),s=n(3),l=n(11),u=n(10),c=n(0);e.findCycle=r;var f=function(t,e){return i.LatLng.prototype.distanceTo.call(t,e)},d=1,p=20,h=.7,m=25,g=40,y=240,v=360;e.shortestRoute=o},function(t,e,n){"use strict";function r(t){var e=t.match(/[0-9a-f]{1,2}/gi);return e?e.map(function(t){return parseInt(t,16)}):[]}function o(t){var e=t.match(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i);return e?e.slice(1).map(Number):[]}function a(t){var e=function(t,e){return(e.startsWith("#")?r:o)(e).map(function(e,n){return t[n]+e})},n=t.reduce(e,[0,0,0]).map(function(e){return Math.floor(e/t.length)}),a=n[0],i=n[1],s=n[2];return"rgb("+a+", "+i+", "+s+")"}e.mean=a},function(t,e,n){"use strict";function r(t,e,n){var r=n.value;return n.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];console.time(e),r.apply(this,t),console.timeEnd(e)},n}function o(t,e,n){var r=n.value;if(null===r)throw new Error(e+" is not a method");var o=new Map;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=JSON.stringify(t),a=o.get(n);if(void 0!==a)return a;var i=r.apply(this,t);return o.set(n,i),i}}e.time=r,e.MemoizeWithParameters=o},function(t,e,n){"use strict";(function(t){function r(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}function o(t,e){var n=URL.createObjectURL(e);r(t,n),URL.revokeObjectURL(n)}function a(t,e){o(t,new Blob([e],{type:"octet/stream"}))}function i(t,e,n){s(e,n).then(function(e){return r(t,e)})}function s(t,e){return l(t).then(function(t){return t.toDataURL("image/"+e)})}function l(e){return new t(function(t,n){var r=c(e,!0);r.onload=function(e){var o=document.createElement("canvas");o.width=r.width,o.height=r.height;var a=o.getContext("2d");return a?(a.drawImage(r,0,0),void t(o)):n(new Error("2d context does not exist on canvas"))}})}function u(t){var e=s(t,"png"),n=document.createElement("img");return n.width=parseInt(t.getAttribute("width")||"")||parseInt(t.style.width||""),n.height=parseInt(t.getAttribute("height")||"")||parseInt(t.style.height||""),e.then(function(t){return n.src=t,n})}function c(t,e){void 0===e&&(e=!1),e&&(t=d(t));var n=document.createElement("img");return n.width=parseInt(t.getAttribute("width")||"")||parseInt(t.style.width||""),n.height=parseInt(t.getAttribute("height")||"")||parseInt(t.style.height||""),n.src=f(t),n}function f(t){return"data:image/svg+xml;base64,"+btoa((new XMLSerializer).serializeToString(t))}function d(t){for(var e=t.cloneNode(!0),n=e.querySelectorAll("[id^=dummy]"),r=0,o=n;r<o.length;r++){var a=o[r],i=a.parentNode;i&&i.removeChild(a)}e.style.left=e.style.top="";var s=e.querySelector("#station-plate");if(s){var l=s.parentNode;l&&l.removeChild(s)}var u=document.createElement("style");u.textContent=p.getStyleRulesAsText();var c=e.querySelector("defs");return c&&c.insertBefore(u,c.firstChild),e}var p=n(7);e.download=r,e.downloadBlob=o,e.downloadText=a,e.downloadSvgAsPicture=i,e.svgToPictureDataUrl=s,e.svgToCanvas=l,e.svgToPicture=u,e.svgToImg=c,e.svgToDataUrl=f}).call(e,n(2))},function(t,e,n){"use strict";(function(t){function r(t,e){return void 0===e&&(e=!0),s(this,void 0,void 0,function(){var n,r,i,s,u,f,d,p,h,g,b;return l(this,function(l){switch(l.label){case 0:return n=t.platforms,r=void 0===n?[]:n,i=t.edges,s=t.time,u=m.formatTime(s.walkTo),void 0===i?[2,c.success((g=[""," on foot!"],g.raw=[""," on foot!"],m.tr(g,u)))]:[4,v.terminateAnimations()];case 1:for(l.sent(),f=0,d=document.querySelectorAll(y);f<d.length;f++)p=d[f].style,p.filter=null,p.opacity="0.25";return e?[4,v.animateRoute(r,i,1)]:(o(i),a(r),[2]);case 2:return h=l.sent(),h&&c.message((b=["TIME:<br>"," on foot<br>"," by metro<br>"," on foot<br>TOTAL: ",""],b.raw=["TIME:<br>"," on foot<br>"," by metro<br>"," on foot<br>TOTAL: ",""],m.tr(b,u,m.formatTime(s.metro),m.formatTime(s.walkFrom),m.formatTime(s.total))),10),[2]}})})}function o(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=d.default.outerEdgeBindings.get(r);if(void 0!==o){o.style.opacity=null;var a=d.default.innerEdgeBindings.get(r);void 0!==a&&(a.style.opacity=null),r instanceof p.Span&&h.Filters.applyDrop(o)}}}function a(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=d.default.platformBindings.get(r);o&&(o.style.opacity=null)}}var i,s=this&&this.__awaiter||function(e,n,r,o){return new(r||(r=t))(function(t,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(i,s)}l((o=o.apply(e,n||[])).next())})},l=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},u=n(1),c=n(8),f=n(3),d=n(16),p=n(17),h=n(12),m=n(6),g=n(0),y=["paths-inner","paths-outer","transfers-inner","transfers-outer","station-circles"].map(function(t){return"#"+t+" *"}).join(", ");!function(t){function e(t,e,n){if(void 0===n&&(n=!1),!n)return void(t.style.transform="scale("+e+")");o.add(t);var r=t.getAttribute("r");r&&t.setAttribute("data-r",r),t.setAttribute("r",(+r*e).toString())}function n(t,n,r){for(var o=parseFloat(g.byId("transfers-outer").style.strokeWidth||""),i=parseFloat(g.byId("transfers-inner").style.strokeWidth||""),s=0,l=t.platforms;s<l.length;s++){
var u=l[s],c=g.tryGetFromMap(d.default.platformBindings,u);if(e(c,n,!0),r&&!(t.platforms.length<2))for(var f=0,p=r;f<p.length;f++){var h=p[f];if(h.has(u)){var m=d.default.outerEdgeBindings.get(h),y=d.default.innerEdgeBindings.get(h);a.add(m),a.add(y),m.style.strokeWidth=o*n+"px",y.style.strokeWidth=i*n+"px"}}}}function r(){o.forEach(function(t){var e=t.getAttribute("data-r");null!==e&&t.setAttribute("r",e)}),a.forEach(function(t){return t.style.strokeWidth=null}),a.clear(),o.clear()}var o=new Set,a=new Set;t.scaleCircle=e,t.scaleStation=n,t.unscaleAll=r}(i=e.Scale||(e.Scale={}));var v,b=u.Browser.webkit&&!u.Browser.mobile;!function(e){function n(){return null===m?t.resolve(!0):(p=!1,m)}function r(t,e,n){void 0===n&&(n=!1);var r;if(t instanceof SVGPathElement)r=t.getTotalLength();else{var o=u.point(+t.getAttribute("x1"),+t.getAttribute("y1")),a=u.point(+t.getAttribute("x2"),+t.getAttribute("y2"));r=o.distanceTo(a)}var i=n?-r:r,s=r/e,l=g.transitionEnd(t),c=t.style;return c.transition=null,c.opacity=null,c.strokeDasharray=r+" "+r,c.strokeDashoffset=i.toString(),t.getBoundingClientRect(),c.transition="stroke-dashoffset "+s+"ms linear",c.strokeDashoffset="0",l}function o(e,n,o){return void 0===o&&(o=1),s(this,void 0,void 0,function(){var a,i,s,u,m,y,v,w,x,A,k,j,M;return l(this,function(l){switch(l.label){case 0:a=n.length,i=0,l.label=1;case 1:return i<a?p?(s=g.tryGetFromMap(d.default.platformBindings,e[i]),s.style.opacity=null,b&&c(s,1.5,200),u=n[i],(m=d.default.outerEdgeBindings.get(n[i]))?(y=d.default.innerEdgeBindings.get(n[i]),v=m.cloneNode(!0),w=void 0===y?void 0:y.cloneNode(!0),x=g.byId("paths-outer"),x.appendChild(v),A=g.byId("paths-inner"),w&&A.appendChild(w),h.Filters.applyDrop(v),k=u.source!==e[i],j=[r(v,o,k)],w&&j.push(r(w,o,k)),[4,t.all(j)]):[3,3]):[2,!1]:[3,4];case 2:l.sent(),m.style.opacity=null,"t"!==v.id.charAt(1)&&h.Filters.applyDrop(m),x.removeChild(v),w&&(y.style.opacity=null,A.removeChild(w)),l.label=3;case 3:return++i,[3,1];case 4:return M=g.tryGetFromMap(d.default.platformBindings,f.last(e)),M.style.opacity=null,b&&c(M,3,200),[2,!0]}})})}function a(t,e,n){return void 0===n&&(n=1),m=o(t,e,n).then(function(t){return m=null,p=!0,t})}function c(t,e,n){return s(this,void 0,void 0,function(){var r;return l(this,function(o){switch(o.label){case 0:return t.getBoundingClientRect(),r=t.style,r.transition="transform "+n/2+"ms linear",i.scaleCircle(t,e),[4,g.transitionEnd(t)];case 1:return o.sent(),r.transform="scale(1)",[4,g.transitionEnd(t)];case 2:return o.sent(),r.transition=null,r.transform=null,[2]}})})}var p=!0,m=null;e.terminateAnimations=n,e.animateRoute=a,e.pulsateCircle=c}(v=e.Animation||(e.Animation={})),e.visualizeRoute=r,e.rehighlightEdges=o,e.rehighlightPlatforms=a}).call(e,n(2))},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,"/**\r\n * alertifyjs 1.8.0 http://alertifyjs.com\r\n * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.\r\n * Copyright 2016 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) \r\n * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/\r\n.alertify .ajs-dimmer {\n  position: fixed;\n  z-index: 1981;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 0;\n  margin: 0;\n  background-color: #252525;\n  opacity: .5;\n}\n.alertify .ajs-modal {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  padding: 0;\n  overflow-y: auto;\n  z-index: 1981;\n}\n.alertify .ajs-dialog {\n  position: relative;\n  margin: 5% auto;\n  min-height: 110px;\n  max-width: 500px;\n  padding: 24px 24px 0 24px;\n  outline: 0;\n  background-color: #fff;\n}\n.alertify .ajs-dialog.ajs-capture:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  z-index: 1;\n}\n.alertify .ajs-reset {\n  position: absolute !important;\n  display: inline !important;\n  width: 0 !important;\n  height: 0 !important;\n  opacity: 0 !important;\n}\n.alertify .ajs-commands {\n  position: absolute;\n  right: 4px;\n  margin: -14px 24px 0 0;\n  z-index: 2;\n}\n.alertify .ajs-commands button {\n  display: none;\n  width: 10px;\n  height: 10px;\n  margin-left: 10px;\n  padding: 10px;\n  border: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n}\n.alertify .ajs-commands button.ajs-close {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAh0lEQVQYlY2QsQ0EIQwEB9cBAR1CJUaI/gigDnwR6NBL/7/xWLNrZ2b8EwGotVpr7eOitWa1VjugiNB7R1UPrKrWe0dEAHBbXUqxMQbeewDmnHjvyTm7C3zDwAUd9c63YQdUVdu6EAJzzquz7HXvTiklt+H9DQFYaxFjvDqllFyMkbXWvfpXHjJrWFgdBq/hAAAAAElFTkSuQmCC);\n}\n.alertify .ajs-commands button.ajs-maximize {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAOUlEQVQYlWP8//8/AzGAhYGBgaG4uBiv6t7eXkYmooxjYGAgWiELsvHYFMCcRX2rSXcjoSBiJDbAAeD+EGu+8BZcAAAAAElFTkSuQmCC);\n}\n.alertify .ajs-header {\n  margin: -24px;\n  margin-bottom: 0;\n  padding: 16px 24px;\n  background-color: #fff;\n}\n.alertify .ajs-body {\n  min-height: 56px;\n}\n.alertify .ajs-body .ajs-content {\n  padding: 16px 24px 16px 16px;\n}\n.alertify .ajs-footer {\n  padding: 4px;\n  margin-left: -24px;\n  margin-right: -24px;\n  min-height: 43px;\n  background-color: #fff;\n}\n.alertify .ajs-footer .ajs-buttons.ajs-primary {\n  text-align: right;\n}\n.alertify .ajs-footer .ajs-buttons.ajs-primary .ajs-button {\n  margin: 4px;\n}\n.alertify .ajs-footer .ajs-buttons.ajs-auxiliary {\n  float: left;\n  clear: none;\n  text-align: left;\n}\n.alertify .ajs-footer .ajs-buttons.ajs-auxiliary .ajs-button {\n  margin: 4px;\n}\n.alertify .ajs-footer .ajs-buttons .ajs-button {\n  min-width: 88px;\n  min-height: 35px;\n}\n.alertify .ajs-handle {\n  position: absolute;\n  display: none;\n  width: 10px;\n  height: 10px;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMS8xNEDQYmMAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAQ0lEQVQYlaXNMQoAIAxD0dT7H657l0KX3iJuUlBUNOsPPCGJm7VDp6ryeMxMuDsAQH7owW3pyn3RS26iKxERMLN3ugOaAkaL3sWVigAAAABJRU5ErkJggg==);\n  -webkit-transform: scaleX(1) /*rtl:scaleX(-1)*/;\n          transform: scaleX(1) /*rtl:scaleX(-1)*/;\n  cursor: se-resize;\n}\n.alertify.ajs-no-overflow .ajs-body .ajs-content {\n  overflow: hidden !important;\n}\n.alertify.ajs-no-padding.ajs-maximized .ajs-body .ajs-content {\n  left: 0;\n  right: 0;\n  padding: 0;\n}\n.alertify.ajs-no-padding:not(.ajs-maximized) .ajs-body {\n  margin-left: -24px;\n  margin-right: -24px;\n}\n.alertify.ajs-no-padding:not(.ajs-maximized) .ajs-body .ajs-content {\n  padding: 0;\n}\n.alertify.ajs-no-padding.ajs-resizable .ajs-body .ajs-content {\n  left: 0;\n  right: 0;\n}\n.alertify.ajs-maximizable .ajs-commands button.ajs-maximize,\n.alertify.ajs-maximizable .ajs-commands button.ajs-restore {\n  display: inline-block;\n}\n.alertify.ajs-closable .ajs-commands button.ajs-close {\n  display: inline-block;\n}\n.alertify.ajs-maximized .ajs-dialog {\n  width: 100% !important;\n  height: 100% !important;\n  max-width: none !important;\n  margin: 0 auto !important;\n  top: 0 !important;\n  left: 0 !important;\n}\n.alertify.ajs-maximized.ajs-modeless .ajs-modal {\n  position: fixed !important;\n  min-height: 100% !important;\n  max-height: none !important;\n  margin: 0 !important;\n}\n.alertify.ajs-maximized .ajs-commands button.ajs-maximize {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAASklEQVQYlZWQ0QkAMQhDtXRincOZX78KVtrDCwgqJNEoIB3MPLj7lRUROlpyVXGzby6zWuY+kz6tj5sBMTMAyVV3/595RbOh3cAXsww1raeiOcoAAAAASUVORK5CYII=);\n}\n.alertify.ajs-resizable .ajs-dialog,\n.alertify.ajs-maximized .ajs-dialog {\n  padding: 0;\n}\n.alertify.ajs-resizable .ajs-commands,\n.alertify.ajs-maximized .ajs-commands {\n  margin: 14px 24px 0 0;\n}\n.alertify.ajs-resizable .ajs-header,\n.alertify.ajs-maximized .ajs-header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  padding: 16px 24px;\n}\n.alertify.ajs-resizable .ajs-body,\n.alertify.ajs-maximized .ajs-body {\n  min-height: 224px;\n  display: inline-block;\n}\n.alertify.ajs-resizable .ajs-body .ajs-content,\n.alertify.ajs-maximized .ajs-body .ajs-content {\n  position: absolute;\n  top: 50px;\n  right: 24px;\n  bottom: 50px;\n  left: 24px;\n  overflow: auto;\n}\n.alertify.ajs-resizable .ajs-footer,\n.alertify.ajs-maximized .ajs-footer {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n}\n.alertify.ajs-resizable:not(.ajs-maximized) .ajs-dialog {\n  min-width: 548px;\n}\n.alertify.ajs-resizable:not(.ajs-maximized) .ajs-handle {\n  display: block;\n}\n.alertify.ajs-movable:not(.ajs-maximized) .ajs-header {\n  cursor: move;\n}\n.alertify.ajs-modeless .ajs-dimmer,\n.alertify.ajs-modeless .ajs-reset {\n  display: none;\n}\n.alertify.ajs-modeless .ajs-modal {\n  overflow: visible;\n  max-width: none;\n  max-height: 0;\n}\n.alertify.ajs-modeless.ajs-pinnable .ajs-commands button.ajs-pin {\n  display: inline-block;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAQklEQVQYlcWPMQ4AIAwCqU9u38GbcbHRWN1MvKQDhQFMEpKImGJA0gCgnYw0V0rwxseg5erT4oSkQVI5d9f+e9+xA0NbLpWfitPXAAAAAElFTkSuQmCC);\n}\n.alertify.ajs-modeless.ajs-unpinned .ajs-modal {\n  position: absolute;\n}\n.alertify.ajs-modeless.ajs-unpinned .ajs-commands button.ajs-pin {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNy8xMy8xNOrZqugAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAAO0lEQVQYlWP8//8/AzGAiShV6AqLi4txGs+CLoBLMYbC3t5eRmyaWfBZhwwYkX2NTxPRvibKjRhW4wMAhxkYGbLu3pEAAAAASUVORK5CYII=);\n}\n.alertify.ajs-modeless:not(.ajs-unpinned) .ajs-body {\n  max-height: 500px;\n  overflow: auto;\n}\n.alertify.ajs-basic .ajs-header {\n  opacity: 0;\n}\n.alertify.ajs-basic .ajs-footer {\n  visibility: hidden;\n}\n.alertify.ajs-frameless .ajs-header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 60px;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n  z-index: 1;\n}\n.alertify.ajs-frameless .ajs-footer {\n  display: none;\n}\n.alertify.ajs-frameless .ajs-body .ajs-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.alertify.ajs-frameless:not(.ajs-resizable) .ajs-dialog {\n  padding-top: 0;\n}\n.alertify.ajs-frameless:not(.ajs-resizable) .ajs-dialog .ajs-commands {\n  margin-top: 0;\n}\n.ajs-no-overflow {\n  overflow: hidden !important;\n  outline: none;\n}\n.ajs-no-overflow.ajs-fixed {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow-y: scroll!important;\n}\n.ajs-no-selection,\n.ajs-no-selection * {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n@media screen and (max-width: 568px) {\n  .alertify .ajs-dialog {\n    min-width: 150px;\n  }\n  .alertify:not(.ajs-maximized) .ajs-modal {\n    padding: 0 5%;\n  }\n  .alertify:not(.ajs-maximized).ajs-resizable .ajs-dialog {\n    min-width: initial;\n    min-width: auto /*IE fallback*/;\n  }\n}\n@-moz-document url-prefix() {\n  .alertify button:focus {\n    outline: 1px dotted #3593D2;\n  }\n}\n.alertify .ajs-dimmer,\n.alertify .ajs-modal {\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n  -webkit-transition-property: opacity, visibility;\n  transition-property: opacity, visibility;\n  -webkit-transition-timing-function: linear;\n          transition-timing-function: linear;\n  -webkit-transition-duration: 250ms;\n          transition-duration: 250ms;\n}\n.alertify.ajs-hidden .ajs-dimmer,\n.alertify.ajs-hidden .ajs-modal {\n  visibility: hidden;\n  opacity: 0;\n}\n.alertify.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-duration: 500ms;\n          animation-duration: 500ms;\n}\n.alertify.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-duration: 250ms;\n          animation-duration: 250ms;\n}\n.alertify .ajs-dialog.ajs-shake {\n  -webkit-animation-name: ajs-shake;\n          animation-name: ajs-shake;\n  -webkit-animation-duration: .1s;\n          animation-duration: .1s;\n  -webkit-animation-fill-mode: both;\n          animation-fill-mode: both;\n}\n@-webkit-keyframes ajs-shake {\n  0%,\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0);\n  }\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    -webkit-transform: translate3d(-10px, 0, 0);\n            transform: translate3d(-10px, 0, 0);\n  }\n  20%,\n  40%,\n  60%,\n  80% {\n    -webkit-transform: translate3d(10px, 0, 0);\n            transform: translate3d(10px, 0, 0);\n  }\n}\n@keyframes ajs-shake {\n  0%,\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0);\n  }\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    -webkit-transform: translate3d(-10px, 0, 0);\n            transform: translate3d(-10px, 0, 0);\n  }\n  20%,\n  40%,\n  60%,\n  80% {\n    -webkit-transform: translate3d(10px, 0, 0);\n            transform: translate3d(10px, 0, 0);\n  }\n}\n.alertify.ajs-slide.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-name: ajs-slideIn;\n          animation-name: ajs-slideIn;\n  -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n          animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\n.alertify.ajs-slide.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-name: ajs-slideOut;\n          animation-name: ajs-slideOut;\n  -webkit-animation-timing-function: cubic-bezier(0.6, -0.28, 0.735, 0.045);\n          animation-timing-function: cubic-bezier(0.6, -0.28, 0.735, 0.045);\n}\n.alertify.ajs-zoom.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-name: ajs-zoomIn;\n          animation-name: ajs-zoomIn;\n}\n.alertify.ajs-zoom.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-name: ajs-zoomOut;\n          animation-name: ajs-zoomOut;\n}\n.alertify.ajs-fade.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-name: ajs-fadeIn;\n          animation-name: ajs-fadeIn;\n}\n.alertify.ajs-fade.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-name: ajs-fadeOut;\n          animation-name: ajs-fadeOut;\n}\n.alertify.ajs-pulse.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-name: ajs-pulseIn;\n          animation-name: ajs-pulseIn;\n}\n.alertify.ajs-pulse.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-name: ajs-pulseOut;\n          animation-name: ajs-pulseOut;\n}\n.alertify.ajs-flipx.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-name: ajs-flipInX;\n          animation-name: ajs-flipInX;\n}\n.alertify.ajs-flipx.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-name: ajs-flipOutX;\n          animation-name: ajs-flipOutX;\n}\n.alertify.ajs-flipy.ajs-in:not(.ajs-hidden) .ajs-dialog {\n  -webkit-animation-name: ajs-flipInY;\n          animation-name: ajs-flipInY;\n}\n.alertify.ajs-flipy.ajs-out.ajs-hidden .ajs-dialog {\n  -webkit-animation-name: ajs-flipOutY;\n          animation-name: ajs-flipOutY;\n}\n@-webkit-keyframes ajs-pulseIn {\n  0%,\n  20%,\n  40%,\n  60%,\n  80%,\n  100% {\n    -webkit-transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n            transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\n            transform: scale3d(0.3, 0.3, 0.3);\n  }\n  20% {\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\n            transform: scale3d(1.1, 1.1, 1.1);\n  }\n  40% {\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\n            transform: scale3d(0.9, 0.9, 0.9);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale3d(1.03, 1.03, 1.03);\n            transform: scale3d(1.03, 1.03, 1.03);\n  }\n  80% {\n    -webkit-transform: scale3d(0.97, 0.97, 0.97);\n            transform: scale3d(0.97, 0.97, 0.97);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n}\n@keyframes ajs-pulseIn {\n  0%,\n  20%,\n  40%,\n  60%,\n  80%,\n  100% {\n    -webkit-transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n            transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n  0% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\n            transform: scale3d(0.3, 0.3, 0.3);\n  }\n  20% {\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\n            transform: scale3d(1.1, 1.1, 1.1);\n  }\n  40% {\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\n            transform: scale3d(0.9, 0.9, 0.9);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale3d(1.03, 1.03, 1.03);\n            transform: scale3d(1.03, 1.03, 1.03);\n  }\n  80% {\n    -webkit-transform: scale3d(0.97, 0.97, 0.97);\n            transform: scale3d(0.97, 0.97, 0.97);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n}\n@-webkit-keyframes ajs-pulseOut {\n  20% {\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\n            transform: scale3d(0.9, 0.9, 0.9);\n  }\n  50%,\n  55% {\n    opacity: 1;\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\n            transform: scale3d(1.1, 1.1, 1.1);\n  }\n  100% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\n            transform: scale3d(0.3, 0.3, 0.3);\n  }\n}\n@keyframes ajs-pulseOut {\n  20% {\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\n            transform: scale3d(0.9, 0.9, 0.9);\n  }\n  50%,\n  55% {\n    opacity: 1;\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\n            transform: scale3d(1.1, 1.1, 1.1);\n  }\n  100% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\n            transform: scale3d(0.3, 0.3, 0.3);\n  }\n}\n@-webkit-keyframes ajs-zoomIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.25, 0.25, 0.25);\n            transform: scale3d(0.25, 0.25, 0.25);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n}\n@keyframes ajs-zoomIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.25, 0.25, 0.25);\n            transform: scale3d(0.25, 0.25, 0.25);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n}\n@-webkit-keyframes ajs-zoomOut {\n  0% {\n    opacity: 1;\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n  100% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.25, 0.25, 0.25);\n            transform: scale3d(0.25, 0.25, 0.25);\n  }\n}\n@keyframes ajs-zoomOut {\n  0% {\n    opacity: 1;\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n  100% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.25, 0.25, 0.25);\n            transform: scale3d(0.25, 0.25, 0.25);\n  }\n}\n@-webkit-keyframes ajs-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes ajs-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes ajs-fadeOut {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes ajs-fadeOut {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes ajs-flipInX {\n  0% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  100% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n}\n@keyframes ajs-flipInX {\n  0% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  100% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n}\n@-webkit-keyframes ajs-flipOutX {\n  0% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n@keyframes ajs-flipOutX {\n  0% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n            transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes ajs-flipInY {\n  0% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n  }\n  100% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n}\n@keyframes ajs-flipInY {\n  0% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n    -webkit-transition-timing-function: ease-in;\n            transition-timing-function: ease-in;\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n  }\n  100% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n}\n@-webkit-keyframes ajs-flipOutY {\n  0% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, -15deg);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    opacity: 0;\n  }\n}\n@keyframes ajs-flipOutY {\n  0% {\n    -webkit-transform: perspective(400px);\n            transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, -15deg);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n            transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes ajs-slideIn {\n  0% {\n    margin-top: -100%;\n  }\n  100% {\n    margin-top: 5%;\n  }\n}\n@keyframes ajs-slideIn {\n  0% {\n    margin-top: -100%;\n  }\n  100% {\n    margin-top: 5%;\n  }\n}\n@-webkit-keyframes ajs-slideOut {\n  0% {\n    margin-top: 5%;\n  }\n  100% {\n    margin-top: -100%;\n  }\n}\n@keyframes ajs-slideOut {\n  0% {\n    margin-top: 5%;\n  }\n  100% {\n    margin-top: -100%;\n  }\n}\n.alertify-notifier {\n  position: fixed;\n  width: 0;\n  overflow: visible;\n  z-index: 1982;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n.alertify-notifier .ajs-message {\n  position: relative;\n  width: 260px;\n  max-height: 0;\n  padding: 0;\n  opacity: 0;\n  margin: 0;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n  -webkit-transition-duration: 250ms;\n          transition-duration: 250ms;\n  -webkit-transition-timing-function: linear;\n          transition-timing-function: linear;\n}\n.alertify-notifier .ajs-message.ajs-visible {\n  -webkit-transition-duration: 500ms;\n          transition-duration: 500ms;\n  -webkit-transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n          transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  opacity: 1;\n  max-height: 100%;\n  padding: 15px;\n  margin-top: 10px;\n}\n.alertify-notifier .ajs-message.ajs-success {\n  background: rgba(91, 189, 114, 0.95);\n}\n.alertify-notifier .ajs-message.ajs-error {\n  background: rgba(217, 92, 92, 0.95);\n}\n.alertify-notifier .ajs-message.ajs-warning {\n  background: rgba(252, 248, 215, 0.95);\n}\n.alertify-notifier.ajs-top {\n  top: 10px;\n}\n.alertify-notifier.ajs-bottom {\n  bottom: 10px;\n}\n.alertify-notifier.ajs-right {\n  right: 10px;\n}\n.alertify-notifier.ajs-right .ajs-message {\n  right: -320px;\n}\n.alertify-notifier.ajs-right .ajs-message.ajs-visible {\n  right: 290px;\n}\n.alertify-notifier.ajs-left {\n  left: 10px;\n}\n.alertify-notifier.ajs-left .ajs-message {\n  left: -300px;\n}\n.alertify-notifier.ajs-left .ajs-message.ajs-visible {\n  left: 0;\n}\n",""])},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,"/**\r\n * alertifyjs 1.8.0 http://alertifyjs.com\r\n * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.\r\n * Copyright 2016 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) \r\n * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/\r\n.alertify .ajs-dialog {\n  background-color: white;\n  box-shadow: 0px 15px 20px 0px rgba(0, 0, 0, 0.25);\n  border-radius: 2px;\n}\n.alertify .ajs-header {\n  color: black;\n  font-weight: bold;\n  background: #fafafa;\n  border-bottom: #eee 1px solid;\n  border-radius: 2px 2px 0 0;\n}\n.alertify .ajs-body {\n  color: black;\n}\n.alertify .ajs-body .ajs-content .ajs-input {\n  display: block;\n  width: 100%;\n  padding: 8px;\n  margin: 4px;\n  border-radius: 2px;\n  border: 1px solid #CCC;\n}\n.alertify .ajs-body .ajs-content p {\n  margin: 0;\n}\n.alertify .ajs-footer {\n  background: #fbfbfb;\n  border-top: #eee 1px solid;\n  border-radius: 0 0 2px 2px;\n}\n.alertify .ajs-footer .ajs-buttons .ajs-button {\n  background-color: transparent;\n  color: #000;\n  border: 0;\n  font-size: 14px;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n.alertify .ajs-footer .ajs-buttons .ajs-button.ajs-ok {\n  color: #3593D2;\n}\n.alertify-notifier .ajs-message {\n  background: rgba(255, 255, 255, 0.95);\n  color: #000;\n  text-align: center;\n  border: solid 1px #ddd;\n  border-radius: 2px;\n}\n.alertify-notifier .ajs-message.ajs-success {\n  color: #fff;\n  background: rgba(91, 189, 114, 0.95);\n  text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.5);\n}\n.alertify-notifier .ajs-message.ajs-error {\n  color: #fff;\n  background: rgba(217, 92, 92, 0.95);\n  text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.5);\n}\n.alertify-notifier .ajs-message.ajs-warning {\n  background: rgba(252, 248, 215, 0.95);\n  border-color: #999;\n}\n",""])},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,'/* required styles */\r\n\r\n.leaflet-map-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-pane,\r\n.leaflet-tile-container,\r\n.leaflet-overlay-pane,\r\n.leaflet-shadow-pane,\r\n.leaflet-marker-pane,\r\n.leaflet-popup-pane,\r\n.leaflet-overlay-pane svg,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        -ms-user-select: none;\r\n\t    user-select: none;\r\n\t-webkit-user-drag: none;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container img {\r\n\tmax-width: none !important;\r\n\t}\r\n/* stupid Android 2 doesn\'t understand "max-width: none" properly */\r\n.leaflet-container img.leaflet-image-layer {\r\n\tmax-width: 15000px !important;\r\n\t}\r\n.leaflet-tile {\r\n\t-webkit-filter: inherit;\r\n\t        filter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-tile-pane    { z-index: 2; }\r\n.leaflet-objects-pane { z-index: 3; }\r\n.leaflet-overlay-pane { z-index: 4; }\r\n.leaflet-shadow-pane  { z-index: 5; }\r\n.leaflet-marker-pane  { z-index: 6; }\r\n.leaflet-popup-pane   { z-index: 7; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 7;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile,\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-tile-loaded,\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition: transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1), -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile,\r\n.leaflet-touching .leaflet-zoom-animated {\r\n\t-webkit-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-clickable {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-container {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-container,\r\n.leaflet-dragging .leaflet-clickable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\t}\r\n\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px \'Lucida Console\', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n.leaflet-control-zoom-out {\r\n\tfont-size: 20px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in {\r\n\tfont-size: 22px;\r\n\t}\r\n.leaflet-touch .leaflet-control-zoom-out {\r\n\tfont-size: 24px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url('+n(65)+");\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url("+n(64)+');\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tbox-sizing: content-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\tmargin: 0 auto;\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n',""]);
},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,"html {\n    height: 100%;\n}\n\nbody {\n    margin: 0px;\n    padding: 0px; /* redundant */\n    height: 100%;\n}\n\na {\n    color: #2196F3;\n}\n\na:hover {\n    color: #E91E63;\n}\n\n#map-container {\n    height: 100%; /* the map should have a defined height */\n    font-size: 12px;\n    cursor: default;\n}\n\n.leaflet-dragging #map-container {\n    cursor: -webkit-grab;\n    cursor: grab;\n}\n\n#map-container.dimmed {\n    -webkit-filter: brightness(0.75);\n    filter: brightness(0.75);\n    -webkit-transition-property: -webkit-filter -webkit-filter;\n    transition-property: -webkit-filter -webkit-filter;\n    transition-property: filter -webkit-filter;\n    transition-property: filter -webkit-filter, -webkit-filter -webkit-filter;\n    -webkit-transition-duration: 200ms;\n            transition-duration: 200ms;\n}\n\n.leaflet-control-scale-line {\n    opacity: 1;\n}\n\n.ajs-message {\n    bottom: 20px;\n    background-color: #ccc;\n    font-family: Segoe, Tahoma, Ubuntu;\n}\n\n@media only screen and (max-device-width: 1000px) and (-webkit-min-device-pixel-ratio: 2) {\n    .leaflet-control-attribution {\n        display: none;\n    }\n}\n\n#wait {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 1.2em;\n    z-index: 10000;\n    color: #606060;\n    opacity: 0;\n    -webkit-transition: opacity 2s linear;\n    transition: opacity 2s linear;\n}\n\ncircle {\n    -webkit-transform-origin: 50% 50%;\n            transform-origin: 50% 50%;\n}\n\n@-moz-document url-prefix() {\n    circle {\n        transform-origin: 0% 0%;\n    }\n}\n\nbutton {\n    background-color: white;\n    border: none;\n    height: 25px;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n    cursor: pointer;\n    -webkit-transition: box-shadow 100ms;\n    transition: box-shadow 100ms;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n     -ms-user-select: none;\n         user-select: none;\n    outline-width: 0;\n}\n\nbutton:hover {\n    background-color: #f0f0f0;\n}\n\nbutton:active {\n    box-shadow: none;\n}\n\nbutton:disabled {\n    background: #eaeaea;\n    color: #a8a8a8;\n    cursor: auto;\n}\n\n /*.leaflet-zoom-anim  .leaflet-zoom-animated {\n     transition-duration: 1s;\n }*/",""])},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,'.ui-ContextMenu-___style__contextmenu___2-NHv {\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 10000;\n    background-color: white;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    font-family: "Segoe UI", Tahoma, Ubuntu, Cambay, Roboto, sans-serif;\n    font-size: 0.7em;\n    margin-left: 1px; /* so that the first element is not automatically selected */\n    border-collapse: collapse;\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n@media only screen and (max-device-width: 400px) and (-webkit-min-device-pixel-ratio: 2) {\n    .ui-ContextMenu-___style__contextmenu___2-NHv {\n        font-size: 1.2em;\n    }\n} \n\n.ui-ContextMenu-___style__contextmenu___2-NHv div {\n    padding: 5px;\n    cursor: default;\n}\n\n.ui-ContextMenu-___style__contextmenu___2-NHv div[disabled] {\n    color: grey;\n    /*cursor: not-allowed*/\n}\n\n.ui-ContextMenu-___style__contextmenu___2-NHv div:not([disabled]):hover {\n    background-color: #82B1FF;\n    /*color: #ffffff;*/\n}',""]),e.locals={contextmenu:"ui-ContextMenu-___style__contextmenu___2-NHv"}},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,"\n.ui-FAQ-___style__faq-card___2WxV6 {\n    position: absolute;\n    top: 5%;\n    bottom: 5%;\n    right: 5%;\n    left: 5%;\n    width: 50%;\n    margin: 0 auto;\n    padding: 1%;\n    display: none;\n    background-color: white;\n    border-radius: 4px;\n    box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);\n    font-family: Roboto, Calibri, Helvetica, sans-serif;\n    overflow-y: scroll;\n    -webkit-transition-property: -webkit-transform opacity;\n    transition-property: -webkit-transform opacity;\n    transition-property: transform opacity;\n    transition-property: transform opacity, -webkit-transform opacity;\n    -webkit-transition-duration:  200ms;\n            transition-duration:  200ms;\n}\n\n@media only screen and (max-width: 1000px) {\n    .ui-FAQ-___style__faq-card___2WxV6 {\n        max-width: 500px;\n        width: 90%;\n    }\n}\n\n.ui-FAQ-___style__cross-ball___1f_gh {\n    float: right;\n    height: 12mm;\n    width: 12mm;\n    line-height: 12mm;\n    border-radius: 50%;\n    background: #E91E63;\n    color: white;\n    /*font-size: 12mm;*/\n    font-weight: bold;\n    text-align: center;\n    /* not selectabled */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n     -ms-user-select: none;\n         user-select: none;\n    cursor: pointer;\n}\n\n.ui-FAQ-___style__cross-ball___1f_gh:hover {\n    filter: grayscale(0.1) opacity(0.8);\n    -webkit-filter: grayscale(0.1) opacity(0.8);\n}\n\n.ui-FAQ-___style__question___262kz {\n    font-weight: bold;\n    display: block;\n    margin-top: 1%;\n}\n\n.ui-FAQ-___style__answer___1tIjU {\n    display: block;\n    padding-bottom: 1%;\n    border-bottom: #cccccc 1px solid;\n}\n",""]),e.locals={"faq-card":"ui-FAQ-___style__faq-card___2WxV6","cross-ball":"ui-FAQ-___style__cross-ball___1f_gh",question:"ui-FAQ-___style__question___262kz",answer:"ui-FAQ-___style__answer___1tIjU"}},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,".ui-MapEditor-___style__edit-map-button___12ie8[disabled] {\n    cursor: not-allowed;\n}\n",""]),e.locals={"edit-map-button":"ui-MapEditor-___style__edit-map-button___12ie8"}},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,".ui-SvgOverlay-___style__overlay___21Ych {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    z-index: 5;\n    /*will-change: transform;*/ /*blurs fonts */\n}\n",""]),e.locals={overlay:"ui-SvgOverlay-___style__overlay___21Ych"}},function(t,e,n){e=t.exports=n(4)(),e.push([t.i,".ui-TextPlate-___style__plate-box___21m-n {\n    color: #000000;\n    text-anchor: end;\n    text-align: right;\n    font-family: Corbel, Candara, Calibri, 'Trebuchet MS', Ubuntu, sans-serif;\n    font-weight: bold;\n    opacity: 1;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n     -ms-user-select: none;\n         user-select: none;\n    \n    white-space: nowrap;\n    /*border-radius: 2px;*/\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    /*filter: url(#shadow);*/\n    background-color: white; /* for div */\n    padding: 1px 3px 1px 3px;\n    line-height: 1.3em;\n    display: inline-block;\n    /*float: left;*/\n}\n",""]),e.locals={"plate-box":"ui-TextPlate-___style__plate-box___21m-n"}},,function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function i(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var t=o(i);m=!0;for(var e=h.length;e;){for(p=h,h=[];++g<e;)p&&p[g].run();g=-1,e=h.length}p=null,m=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,f,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new l(t,e)),1!==h.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},,function(t,e,n){var r=n(51);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(52);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(53);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(54);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(55);"string"==typeof r&&(r=[[t.i,r,""]]);n(5)(r,{});r.locals&&(t.exports=r.locals)},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAbrwAAG68BXhqRHAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAArPSURBVGiB3Zp7TFvXHce/916/eBhCDInJwDjGBhvjQHi5SclaKRL5Z1Wl/rEq/WNr11TJmkpMw900pLVrplJ1cadFarp0zdZmmpZpf3SqNrUKfSnKgwI2sQPGBmNjAsUOxCW8bGzfe8/+SEAkMfa1A5m075/2+f3O+Z7X595zLkUIwf+T6EdRSWdnp7izs1P8KOqitnqE3n///QMajeYZAPD7/R8fPXr00lbWt2WGTp48qdRoNC/s2bNHXVhYyALA/Py86Pr16wG/3//hq6++GtqKejfdUGdnJ6XT6Q4bDIZWjUaTNLnf76fcbvdlr9d7vqura1MbsKmGTp8+XadWqw/v3bu3UCQS8anKsixLX7t2bT4QCJw/fvy4c7PasCmGTpw4Ia+qqnrRZDIZSkpK2ExiZ2dnRYODg+7R0dE/v/baa4sP25aHNnT27Nkf6HS6QwaD4aF2TLfbzXu93gtHjhz5z8PkydrQqVOnKtVq9Y/q6uqUubm5GY3KRopEIiKn0xkKBAJ/bW9v92WTI2NDnZ2dYoPB8ILRaGwoKyvjsqk0naamphiXyzXgdrs/7OrqSmQSm5GhM2fOHNBoNM/U1dVJKYoSFEgIEcVisWYAkEql/RRFCRpNQgjldDpjfr//42PHjglmlyBDJ0+eVO7evfsndXV1FatMEaJEIqGOx+MHCCFyAKAoalEikVwSi8UBoTnm5+dFTqdzYnx8/C9C2JXS0CpT9Hr9gcrKypTb8HrxPJ+/srJygOf53cn+p2l6XCaTXaJpekloTp/PR3s8nkvp2LWhoXfffbderVYfbmhoKEjHlPVtjcVidSzLNhFCUj67URSVEIlENqlU6gQgKD/LsvTAwMBCIBA4/8orrziS5r3f0IkTJ+Q6ne6IyWQy7NixQ/CCZFm2NB6PP8Hz/HahMQBA0/R3EonkokgkCgqNmZmZEQ8ODrq9Xu/Z+9l1j6EPPvjgKZ1Od6impoYSmpzneVksFtvHcZxBaEwyMQzjlkqlPTRNrwiNGR4eJl6v98JLL73079XfKEIITp06VVlRUfHj+vr6nZkwJR6P6xOJxH5CiCxTA8lEUdSKWCy+KpFIPEJjIpGIyOFw3JyYmDjX3t7uo86dO3fUaDQ2lJeXCzbCcdz2WCz2BM/zpdk1PbVomg5KpdKLDMN8JzRmcnJS5HK5Bhi9Xv9RcXHx7V27dqUd6rtMMcfj8YOEkIKHa3bKeuQsy9bwPC9mGCZEUVTaTWNsbKzQbrc/RXV0dBAAMYVCcfnpp5+eKC4uTmrsfqY8KqVj161bt2SffPJJRTgcbgUgZVpbW3sIIQei0Wij0+ksmZubW9DpdEsUdWdf4Hk+PxqNHmRZtgWA9NFZWZOU4zgdy7LFd0crDgCEEHz66aelX3zxxfcjkUg9gAmapg8zV65c8fX09PwpHo/zhJC22dnZ2oGBARQUFCwVFBTUxOPxQ4QQxf/AyD0ihBSxLFtDCCFerzdy/vz5PcFg8CAhRAqgSy6XP/fmm2+O3LNtd3R0VFEU9R6AgyKRiNfr9fS+ffsgFj+S8420SiQS6Onpgcfj4VmWpQF8SQh5+Z133hldLSNaH/Dss8+GGYYJ3Lhxg9jtdnpoaAiTk5NoampCdXX1IzewXiMjI7DZbJifn4dMJqPNZjNRqVQBjuPC68utjhA1MDDwPIDfASgG7vSGw+HA2NgYAEClUmH//v0oKip6pEbm5uZw9epV3LhxAwCg1WpRX1+/ftbcAvCLhoaGjwAQyuFwGDmOOwOgNVnCcDiMvr4+zM3NQSaTwWg0orm5GTS9tUd6PM+jv78fLpcLKysrKCoqQktLCxSKDZfzZYZhjjFarfYfKpWqmabppAslNzcXWq0WMpkMwWAQU1NTCAQCyM/Px7Zt27bEzMTEBD7//HP4fD5QFIWGhgaYzWbk5uZuGMNxXPHXX39tYkwm07nh4eGZ3Nxcz/bt27+XrDBFUVAoFNBoNIhEIggGg/D5fLh9+zaUSuWmbRqRSAQXL15EX18flpeXoVKp8OSTT0KpVGIVI8nk8/n6uru7xYuLi3WrHDr07bffmvx+f295eTktkUiSwlMsFkOlUqGkpAQzMzMIBoPwer0AAKVS+VBmHA4HvvrqK4RCIeTl5aG1tRU1NTUpO2t5eXn6s88+Gx4fHzcDmKVp+jBFCMEbb7whW1xc/BWAXwJgKysrbS0tLY9TFCXaKBnP8xgaGoLb7QbHcSgtLcW+ffsyNhYKhdDT04NgMAiGYWAwGFBbW5tyjRJC2L6+vis+n68Jd3bqt+Vy+Vuvv/76yoYcysvLi5nNZmm6Bi4sLMBmsyEUCkEsFkOv1+Oxxx5LOw0TiQS++eYbeDweJBIJKJVKNDU1oaAg9SNiKBRCb28vu7y8LEISDt1jqLu7ezuAt0Oh0IsjIyNUPB5HeXk5mpubIZWmfuqZmJiA3W7HysoKCgsLU7LrPqagsbERFRUVKfPHYjH09/djcnISEokE1dXVUCqV/wLQ3tbWNvmAoe7u7ucBnMRdDrEsC6/Xu5bAZDKhqqoq5eJMxy4BTHlAhBCMjo5icHAQqx2s0+kgEq2thiUAvwFwqq2tjaUuXLhQA+CPAL6fLOHCwgJcLhcWFxeFsADAg+yqra0FAAwNDQllygN55HI5jEZjqil5HcBPmerq6r/t2LFjL8MwOclKSaVSlJWVQSKRIBQKwefzIRqNYufOnRsu3GTsmp6eFswUlmVht9ths9mQSCRQVVUFo9EImWzjF2OO4+ROp1NPdXR0JAAsaLVat0ajeXzDCNyZxx6PBzdv3kROTg727t0LtVqdKgTRaBR2ux0A0NjYiJycpP22pkAggGvXrq11ml6vT7t+p6en+10uVykhpIzq6OhoA/AegEqxWOxsamrKl8vllakShMNhDA8Pr1VqNpuRn5+fstJ0WlpaQm9v71pn1dTUpJ2S0Wh02mazTUajUTMAH4CXKUIILBaLDMAqh+iSkpIre/bsaWEYZsN5wfM8/H4/AoEAKIqCwWCAyWRKuWkkEyEEg4ODcLvdIIRArVZDo9Gk5ZDb7b4yNTW1xiEAb1mt1ns5ZLFYqnBntA5SFDVlNBqDu3btak7VoOXlZXg8HoTDYeTn56OlpUUwXEOhEPr6+rC0tASFQgG9Xo+8vLyUMeFweNDhcEg5jqsC8CWAl61Wa3IOrTP2HIDfA9iZk5PT29TUVJ6Tk7MrXeNGRkYghF0bMCWlkUQiMWe324cWFhZaAcwA+LnVav37/eU2PAq2WCyFALoAHAMQLSsrsxkMhpSPQ+nYJYApSeX3+y+PjY3VANgG4AyATqvVOp+sbNrbB4vF0nw3SQPDMKP19fUxhUJhShWTjF0AMmEKAGBxcdFns9mWEolEHYABAMesVmt/qhhB1ykWi4UBcBzAbwHICwoKLjc2NtaKxeINX18JIZicnMTY2Bh4/s6xGk3T0Gq1KC8vT7l5cBwXuX79et/s7OzjAKIAfg3gtNVqTXvBltGFl8ViKQXwBwA/BPCdVqsd1mg0Sd90V7XKLgAZMwXAPwH8zGq1Cj7Iz+qO1WKxZMyudErGFKvV2p1pnqwvjbNhVzKlYko27Xroa/1s2LWqdEzJRpv2JUkm7BLKlGy0qZ/GCGFXJkzJRlvyNVYydkkkktxMmZKNtuzzsvvZBYADEEEGTMlGW/4B4Dp2ARkyJRv9F9vsxWD/43R9AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAVbSURBVEiJrZZfSFt3FMe/v3tvbmLUZleNKSHE/LGRiNbGRovTtrA9lcFkpcOnMvawwhhjrb3soQ8djGFhXMQNRqEvY3R9kJVuPpRRWQebcdKYxkaHqcHchKJ2rVo1WhNz//z2UOLUadVuv9fvOedzfuec3x9CKcV+1qVLlwgAdHV17cuR7AfU29tb43a73wWAVCr1Q0dHx8T/Curu7i5ubGw843K5ms1mMwBgdXUV6XQ6HI1Gb3Z2dj7/z6C+vr6T1dXVp6xWa+l2+uzs7PLk5OTP7e3tv70S6Pr1647q6uoOt9vtYRjmpcnouo5UKiVPTk72nj17dmpPIEmS+IaGhnaPx3O8tLSU3ahRSotyudzrAGAymf4ghGQ36svLy5osywOxWKxPFMX8jqBbt241ejyed+x2e9nWjPL5fK2iKC2UUiMAEELWDAbDEM/z41ttZ2Zmnsmy/OPp06ejm0DXrl2rqK2tPeNyuQ7zPL9pi5qmVaytrZ3Qdf3gdiVhGOYvo9H4O8uyc1sSI+l0enR8fPzmuXPn5sjt27ff8nq9bwiCYNpSJsPa2lqzqqr1AF7eJEDnOG7MaDSGCSHKRmFhYSGXTCZ/Zd1u93dOp3NJEAS9ICqK4snlcm/puu4EQHaBAADRdf2gqqo1hJBllmUXCsLjx4+L7t69e4Ztamqaffjw4QepVOr5oUOHDKqqvqkoShAAvwfA1sVrmlataVqlqqqzvb29lnA43KwoymeEUoqenp7XdF3vW11dPX7s2DHi9XpfgfHPSiaTuHfvHjWbzQMMw7SfP39+kUSj0ZOU0qsA/EtLSwiHwygpKUFraysOHDiwL0Amk8Hg4CBWVlbQ3NwMi8UCAHFCyIesw+H43uFwuAwGg9lkMsHj8SCfzyMUCkFRFNhsNux2YDVNQzQaRSgUgsvlwtGjR2EyvZitbDbL9Pf3H2YDgcD8xMREk67rCZvN5iSEkLKyMrjdbsiyjJGREVgslh13NzU1hf7+fui6jra2NlitVhBCQCmlo6OjoYGBASWbzX5BKKW4cuWKhRDyk67rJ4LBIFNRUbEeaHZ2FpFIBDabDS0tLSgqKipkiqGhITx58gTBYBBWq3XdZ25uDpFIhLIsO8jzfPuFCxeekTt37rQCuAqgfmVlBfF4HOXl5Thy5Ah4/sXgUUoRj8chyzIaGhoAALFYDB6PB36/H4S8OAH5fB4PHjzA/Pw8/H4/SkpKACAB4CPW6/XeqKysrOI4rpjnedjtdmSzWUSjURgMBgiCAEIIrFYrHA4HxsfHsbi4iNbWVtjt9nWILMsYGhpCeXk5ampqYDQaC3AyPDxcSy5evPg2IaTL6XTO+3y+NkIIAwCKoiCRSEBVVTQ1Ne3Yo0wmg+HhYXAcB5/PB4PBUJBoMpkclGW5lFJ6mVBKIYpiMYDLHMedCgQCnCAI/oL1wsICEokEHA4H6uvr1ydQ13WMjY1hamoKPp8PgiBshE/ev38/oyjKLwA+lyTp+abbWxTFOgDfCIKAQCAQ4DiutNCjdDqNp0+fIhAIAABGRkZQWVkJl8u1Xj5N01Zjsdjw3NwcBfCxJEl/FmL/6z0SRZEAeJ8QIvp8vsWqqqqWgpbL5RCPxwEAfr9//awAwPT0dDgejxfput4D4FtJkjYF3vGFFUWxHMCXRqPxcDAYtBYXF1dtZ5fNZmcikcijbDY7DuBTSZLmt7Pb9c8gimIbIeQrm82Wqaura2EYxggAlFI1Ho8PTk9PmymlnZIkhV4WZ0+/IFEUOQCdDMO8V19fn2NZ1hCLxaimaTcAdEuSpO4WY1//OlEUnQC+BkABfCJJ0qO9+v4NmO9xnZob3WcAAAAASUVORK5CYII="},function(t,e){},function(t,e,n){"use strict";(function(t){var e=this&&this.__awaiter||function(e,n,r,o){return new(r||(r=t))(function(t,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(i,s)}l((o=o.apply(e,n||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},o=this,a=n(3),i=n(7),s=n(6),l=n(21);L.Icon.Default.imagePath="http://cdn.leafletjs.com/leaflet/v0.7.7/images",n(24),n(22),n(23),n(25),L.Browser.ie&&alert("Does not work in IE (yet)");var u=location.search.match(/city=(\w+)/),c=u?u[1]:"spb";!function(){return e(o,void 0,void 0,function(){var t,e,n,o,u;return r(this,function(r){switch(r.label){case 0:return[4,i.getConfig()];case 1:for(t=r.sent(),e=s.updateDictionary(t.url.dictionary),n=0,o=Object.keys(t.url);n<o.length;n++)u=o[n],t.url[u]=t.url[u].replace(/\{city\}/g,c);return document.title=s.translate((c&&"spb"!==c?a.capitalize(c):"St Petersburg")+" metro plan proposal"),[4,e];case 2:return r.sent(),document.title=s.translate(document.title),new l.default(t),[2]}})})}()}).call(e,n(2))}],[67]);
//# sourceMappingURL=app.js.map